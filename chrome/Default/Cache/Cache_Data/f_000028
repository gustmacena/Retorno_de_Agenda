<!DOCTYPE html>
<html lang="pt_BR">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/fontawesome/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/Ionicons/css/ionicons.min.css">
  <!-- jvectormap -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/jvectormap/jquery-jvectormap.css">
  <!-- datepicker -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
  <!-- daterangepicker -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/bootstrap-daterangepicker/daterangepicker.css">
  <!-- timepicker -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/adminlte2/plugins/timepicker/bootstrap-timepicker.min.css">
  <!-- datetimepicker: eonasdan.github.io/bootstrap-datetimepicker -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css">
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/bootstrap-datetimepicker/css/bootstrap-datetimepicker-atc.css">
  <!-- Pace -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/adminlte2/plugins/pace/pace.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/adminlte2/dist/css/AdminLTE.min.css">
  <!-- Pnotify -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/pnotify/pnotify.custom.min.css">
  <!-- VTooltip -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/v-tooltip/v-tooltip.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/css/atacadao/skin.css">
  <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/css/style.css">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src=vendor/html5shiv/html5shiv-ver370.js"></script>
  <script src="vendor/respond/respond-js-ver130.js"></script>
  <![endif]-->
    <link rel="icon" type="image/x-icon" href="https://atacadao.hodiebooking.com.br/img/favicon.ico">
  <!-- CSRF Token -->
  <meta name="csrf-token" content="h3nHOurMirdxZSmkMeiZGBGnIa5S0A6pfZ5sDLoW">

  <title>Atacadão Produção</title>
  </head>
<body class="hold-transition skin-atacadao sidebar-mini  " style="height: 100%;padding-right:0px!important">
<div class="wrapper">
        <header class="main-header">
        <!-- Logo -->
        <a href="https://atacadao.hodiebooking.com.br" class="logo" style="background-color: white;">
            <!-- mini logo for sidebar mini 50x50 pixels -->
            <span class="logo-mini"><img style="width: 40px" src="https://atacadao.hodiebooking.com.br/img/atacadao/logo_mini.png" /></span>
            <!-- logo for regular state and mobile devices -->
            <span class="logo-lg" style="position:relative">
                <span style="position:absolute;height:50px;width:5px;background-color:#e81f25;margin-left:-15px;left:0"></span>
                <img style="width: 135px;margin-top: -2px" src="https://atacadao.hodiebooking.com.br/img/atacadao/logo_topo.png" />
            </span>
        </a>
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top" role="navigation">
        <!-- Sidebar toggle button-->
        <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
            <span class="sr-only">Toggle navigation</span>
        </a>
        <div class="navbar-left hidden-xs hidden-sm" style="color:#fff;display:inline-block;padding-top: 8px">
            <img style="height: 33px;" src="https://atacadao.hodiebooking.com.br/img/logo_bookingbranco.png">
            <span style="line-height: 25px">| Controle de Agendamento de Cargas</span>
        </div>
        <!-- Navbar Right Menu -->
        <div class="navbar-custom-menu">
            <ul class="nav navbar-nav">

                                <li>
                    <a href="https://atacadao.hodiebooking.com.br/cargas_para_agendar">
                        <i class="fas fa-dolly fa-lg"></i>
                        <span id="cargas-aguardando-agendamento-qtd" style="" class="label label-info"></span>
                    </a>
                </li>
                
                <!-- Notifications: style can be found in dropdown.less -->
                <!-- <li id="notifications" class="dropdown notifications-menu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <i class="far fa-bell fa-lg"></i>
                        <span id="notificacao-qtd" style="display: none;" class="label label-info"></span>
                    </a >

                    <ul class="dropdown-menu">
                        <li><ul><strong style="margin: -30px;">Notificações</strong></ul></li>
                        <li>
                            <!-- inner menu: contains the actual data -->

                            <!-- <ul class="menu">

                            </ul>
                        </li>
                    <!--<li class="footer"><a href="#">View all</a></li> -->
                    <!--</ul>
                </li> -->

                <!-- User Account: style can be found in dropdown.less -->
                <li class="dropdown user user-menu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <i class="fas fa-user fa-lg"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <!-- User image -->
                        <li class="user-header" style="color: #FFF;">
                            <i class="fas fa-user fa-lg"></i>
                            <p> Isabelly gonçalves de araujo </p>
                            <p>  Cadastro ativo até dia </p>

                            <span style="border: 1px solid; padding:6px 1px 6px 7px;"><time data-datetime="2025-08-04T11:47:43-03:00" style="background=#FFCC66;"></time> </span>
                            <span style="margin:10px;" class="white ajuda"  title="Por questões de segurança, todo usuário do sistema precisa ser validado a cada 60 dias.
                                           Para ativar sua validação clique no link que será enviado por e-mail pelo sistema periodicamente."><i class="white fas fa-question-circle fa-lg"></i></span>
                        </li>
                        <!-- Menu Body -->
                        <li class="user-body">
                            <div class="row">
                                <div class="col-xs-12 text-center">
                                    <a href="trocar-senha">Trocar senha</a>
                                                                    </div>
                            </div>
                            <!-- /.row -->
                        </li>
                        <!-- Menu Footer-->
                        <li class="user-footer">
                            <div class="pull-left">
                                <a href="https://atacadao.hodiebooking.com.br/perfil" class="btn btn-default btn-flat">Perfil</a>
                            </div>
                            <div class="pull-right">
                                <form id="logoutForm" action="https://atacadao.hodiebooking.com.br/logout" method="POST">
                                    <button type="submit" class="btn btn-default btn-flat">Sair</button>
                                    <input type="hidden" name="_token" value="h3nHOurMirdxZSmkMeiZGBGnIa5S0A6pfZ5sDLoW">                                </form>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->

    <aside class="main-sidebar">
        
        <a href="#" id="linkNome"> <div class="database_label" title="Você eta conectado no banco atacadao" id="dbName1" style="display: none"><i class="fas fa-database"></i> <span>atacadao</span></div></a>
        <a href="#" id="linkNome"> <div class="database_label" title="Você eta conectado no banco atacadao" id="dbName2"  style="display: none"><i class="fas fa-database"></i></div></a>

        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar">
            <!-- Sidebar user panel -->
            <div class="user-panel" style="height: 60px">
                <div style="left:0" class="info">
                    <p class="orange">Isabelly gonçalves de araujo</p>
                    <p class="skin_atacadoa_user_home">Fornecedor </p>
                                            <a href="https://atacadao.hodiebooking.com.br/fornecedores">
                            <i class="fas fa-circle text-success"></i>
                            Minhas empresas                        </a>
                                    </div>
            </div>
            <!-- sidebar menu: : style can be found in sidebar.less -->
            <ul class="sidebar-menu" data-widget="tree">
                                <li class="treeview ">
                    <li class="">
                        <a href="https://atacadao.hodiebooking.com.br">
                            <i class="far fa-eye"></i> <span> Visão Geral </span>
                        </a>
                    </li>
                </li>

                <!-- pedidos -->
                                                <li class="treeview ">
                    <a href="javascript:void(0)">
                        <i class="far fa-list-alt"></i>
                        <span>Pedidos</span>
                        <span class="pull-right-container">
                            <i class="fas fa-angle-left pull-right orange"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">
                                                <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/pedidos">
                                <i class="far fa-xs fa-circle"></i>
                                <span>Listagem de pedidos</span>
                            </a>
                        </li>
                        <li class="treeview ">
                            <a href="javascript:void(0)">
                                <i class="far fa-xs fa-circle"></i>
                                <span>Filtros rápidos</span>
                                <span class="pull-right-container">
                                    <i class="fas fa-angle-left pull-right orange"></i>
                                </span>
                            </a>
                            <ul class="treeview-menu">
                                <li class="">
                                    <a href="https://atacadao.hodiebooking.com.br/pedidos?filtrosurl=carga_item_stat%3Ditens_pendentes">
                                        <i class="far fa-xs fa-circle"></i>
                                        Com itens pendentes<br>de alocação em cargas
                                    </a>
                                </li>
                                <li class="">
                                    <a href="https://atacadao.hodiebooking.com.br/pedidos?filtrosurl=carga_item_stat%3Dtodos_alocados">
                                        <i class="far fa-xs fa-circle"></i>
                                        Com todos os itens<br> alocados em cargas
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                
                <!-- notas fiscais -->
                                                <li class="treeview ">
                    <a href="javascript:void(0)">
                        <i class="far fa-list-alt"></i>
                        <span>Notas Fiscais</span>
                        <span class="pull-right-container">
                            <i class="fas fa-angle-left pull-right orange"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">
                        <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/nfs">
                                <i class="far fa-xs fa-circle"></i>
                                Notas Fiscais
                            </a>
                        </li>
                    </ul>
                </li>
                

                <!-- Central de Agendamentos -->
                                                <li class="treeview ">
                    <a href="javascript:void(0)">
                        <i class="far fa-calendar-alt"></i>
                        <span>Central de Agendamentos</span>
                        <span class="pull-right-container">
                            <i class="fas fa-angle-left pull-right orange"></i>
                        </span>
                    </a>

                    <ul class="treeview-menu">


                                                <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/agendamentos">
                                <i class="far fa-xs fa-circle"></i>
                                Listagem de agendamentos
                            </a>
                        </li>
                        
                        
                        
                                                
                    </ul>
                </li>
                
                <!-- Cargas -->
                                                <li class="treeview active">
                    <a href="javascript:void(0)">
                        <i class="fas fa-dolly"></i>
                        <span>Cargas</span>
                        <span class="pull-right-container">
                            <i class="fas fa-angle-left pull-right orange"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">

                                                <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/cargas">
                                <i class="far fa-xs fa-circle"></i>
                                Listagem de cargas
                            </a>
                        </li>
                        
                                                                                <li class="">
                                <a href="https://atacadao.hodiebooking.com.br/cargas/create">
                                    <i class="far fa-xs fa-circle"></i>
                                    Nova carga
                                </a>
                            </li>
                                                    
                        


                                                <li class="">

                            <a href="https://atacadao.hodiebooking.com.br/cargas_para_agendar">
                                <i class="far fa-xs fa-circle"></i>
                                Cargas para agendar
                            </a>
                        </li>
                        

                                                <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/cargas-planilha">
                                <i class="far fa-xs fa-circle"></i>
                                A partir de uma planilha
                            </a>
                        </li>
                        
                        


                    </ul>
                </li>
                
                <!-- Recebimento manager.agendamentos.monitor-operacional -->
                
                <!-- Relatorios -->
                                
                                <li class="treeview ">
                    <a href="javascript:void(0)">
                        <i class="far fa-list-alt"></i>
                        <span>Relatórios</span>
                        <span class="pull-right-container">
                            <i class="fas fa-angle-left pull-right orange"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">
                        <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/relatorio/agendamento">
                                <i class="far fa-xs fa-circle"></i>
                                Agendamentos
                            </a>

                            <a href="https://atacadao.hodiebooking.com.br/relatorio/itens">
                                <i class="far fa-xs fa-circle"></i>
                                Agendamentos por Itens
                            </a>
                            
                            <a href="https://atacadao.hodiebooking.com.br/relatorio/planilhaPedidos">
                                <i class="far fa-xs fa-circle"></i>
                                Planilha Pedidos
                            </a>
                            

                        </li>
                    </ul>


                </li>
                

                <!-- Cadastros gerais -->
                                                <li class="treeview  ">
                    <a href="javascript:void(0)">
                        <i class="fas fa-cogs"></i>
                        <span>Cadastros gerais</span>
                        <span class="pull-right-container">
                            <i class="fas fa-angle-left pull-right orange"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">

                        
                        
                                                <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/produtos">
                                <i class="far fa-xs fa-circle"></i>
                                <span>Produtos</span>
                            </a>
                        </li>
                        
                                                <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/transportadoras">
                                <i class="far fa-xs fa-circle"></i>
                                <span>Transportadoras</span>
                            </a>
                        </li>
                        
                                                <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/unidades">
                                <i class="far fa-xs fa-circle"></i>
                                <span>Unidades</span>
                            </a>
                        </li>
                        
                                                <li class="">
                            <a href="https://atacadao.hodiebooking.com.br/usuarios">
                                <i class="far fa-xs fa-circle"></i>
                                <span>Usuários</span>
                            </a>
                        </li>
                        
                        


                        

                        

                    </ul>
                </li>
                
                


                
            </ul>
        </section>
        <!-- /.sidebar -->
    </aside>
<div class="content-wrapper">
    <!-- Modal -->

<div class="modal fade" id="modalInsereNF" tabindex="-1" role="dialog" aria-labelledby="modalInsereNF" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          
        </button>
      </div>
      <div class="modal-body">
            <p id="regSucesso" name="regSucesso" class="orange" >Registro salvo com sucesso !</p>
            <p id="incNota" name="incNota" class="orange" style="display: none" >Incluir notas na carga:</p>
            <p id="incNotaPergunta" name="incNotaPergunta">Deseja incluir o número da nota ?</p>
            <div id="avisoNf" name="avisoNf" class="box-inserenf">
            <p class="text-justify" style="padding: 10px 10px 10px 10px;">A inclusão da(s) chave(s) de acesso(s) da(s) NF-e(s) agilizará o processo de verificação/conferência entre pedido Atacadao e
            dados de emissão da nota fiscal. Além de deixar tudo pronto para o recebimento é possível identificar e corrigir de forma adiantada possíveis problemas e divergências.</p>
            </div>

  
               <input type="hidden" id="idCarga" name="idCarga">
               <div id="frmNotas" id="frmNotas" style="display:none;">
                  <div class="row notas-campos">
                      <div class="col-md-10 form-group nota">
                          <div class="input-group">
                              <span class="input-group-addon" id="contaNotas" name="contaNotas">1</span>
                              
                              <input name="nota[]"
                                  id="nota[]"
                                  class="form-control imputChaveNF  imputNF_1"
                                  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                  type = "number"
                                  maxlength = "44"
                                  onkeyup ="validaChave(1)"
                              />
                              
                          </div>
                          <spam id="chaveErro_1" name="chaveErro_1" class="text-danger" style="display: none"></spam>
                      </div>
                      <div class="col-md-2">
                          <i id=btnAdd_1 name=btnAdd_1 style="margin-top: 10px" class="fa fa-plus orange btnADD"></i>
                      </div>
  
                      <div id="inputsAdd">
                        
                      </div>
                    </div>
                    <div class="text-right">
                      <div id="btnCancelarNota" name="btnCancelarNota" type="button" class="btn btn-primary">Cancelar</div>
                      <div id="btnSalvarNota"  style="display:none" name="btnSalvarNota"type="button" class="btn btn-primary">Salvar</div>
                    </div>
                 </div>
           
      </div>
      <div class="modal-footer">
        <div onclick="btnSimNFC()" id="btnSim" name="btnSim" type="button" class="btn btn-primary">Sim</div>
        <div id="btnNao" name="btnNao"type="button" class="btn btn-primary">Não</div>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="modalConfirma" tabindex="-1" role="dialog" aria-labelledby="modalConfirma" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title orange title_sep" id="tituloModalConfirma" name="tituloModalConfirma">Confirmação</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="msgModalConfirma" id="msgModalConfirma" name="msgModalConfirma"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" id="btnModalConfirma" name="btnModalConfirma" class="btn btn-primary">Confirmar</button>
      </div>
    </div>
  </div>
</div>    <div class="content-header">
        <h1>

                            Carga
                        <a href="javascript:;" id="openTour" class="f_editando" title="Ajuda"><i class="orange fas fa-question-circle"></i></a>
        </h1>
        <ol class="breadcrumb">
            <li>Cargas</li>
            <li>
                                    6582384
                            </li>
        </ol>
    </div>

    <div class="content">
        <form id="cargasForm">
            <div class="btn-container form-group ">
                                <div data-target="#modal-pedidos-itens" data-toggle="modal" class="btn-panel f_editando btn_modal_pedidos_itens">
                    <div class="btn-image btns">
                        <i class="orange fas fa-cube fa-2x"></i>
                    </div>
                    <label>Incluir item/pedido</label>
                </div>

                
                <!-- <div data-target="#modal-transportadoras" data-toggle="modal" class="btn-panel f_editando">
                    <div class="btn-image">
                    <i class="orange fas fa-truck-moving fa-2x"></i>
                    </div>
                    <label>Selecionar transportadora</label>
                </div> -->

                            
                                                                
                                                                                
                <div id="salvar" class="btn-panel f_editando">
                    <div class="btn-image btns">
                        <i class="orange far fa-check-circle fa-2x"></i>
                    </div>
                    <label>Salvar</label>
                </div>
                
            </div>

            <div class="bg-white carga-container">
                <div class="row">

                <!-- Dados da carga -->
                <div class="col-lg-8 dados_carga" style="float: right!important;">
                    <h4 class="orange title_sep"><i class="fas fa-dolly"></i> Dados da carga</h4>
                    <div class="row">

                                            <div class="col-md-12">
                            <div class="box-numero-carga dados-cabecalho">
                                <label class="titulo">N° da carga</label>
                                <span class="valor">
                                                                            6582384
                                                                    </span>
                            </div>


                                                                                <div class="box-status dados-cabecalho ">
                                                                    AGENDAMENTO PARA<br/>
                                     29/07/2024
                                                            </div>
                                                        <div class="box-acompanhe" style="padding:8px;">
                                <a href="#" id="btnAddNF" name="btnAddNF"><i  class="orange fa-2x fas fa-file-alt"><br/><p style="font-size:10px; padding:5px;">ADICIONAR CHAVES<br>NFS</p></i></a>
                            </div>
                                                        <div class="box-acompanhe" style="padding:8px;">
                                <a href="https://atacadao.hodiebooking.com.br/agendamentos/2407050049252"><i  class="orange fa-2x fas fa-arrow-circle-right"><br/><p style="font-size:10px; padding:5px;">ACOMPANHE AGENDAMENTO</p></i></a>
                            </div>
                            
                                                    
                        </div>
                                       
                    <div class="col-md-12 form-group">
                                                            <div class="notas">
                        <div class="row">
                            <div class="col-sm-10">
                            <i id="btnNotasExibe" name="btnNotasExibe" class="orange subtitle fas fa-file-alt"></i>  <label class="orange subtitle" style="margin-top 25px ;" > NOTAS FISCAIS </label>
                            </div>
                            <div class="col-sm-2">
                                 
                            </div>
                        </div>
                        
                        <div>
                        <div id="" neme = "" class="row">
                                    <div class="col-sm-1 text-left orange ">#</div>
                                    <div class="col-sm-2 text-left orange ">Número</div>
                                    <div class="col-sm-8 text-left orange ">Chave</div>
                                    <div class="col-sm-1">
                                    </div>                  
                                </div>
                        <div class="notasExibe" style="display: block"> 
                                                                                                        <div id="dv_5717797" neme = "dv_5717797" class="row">
                                    <div class="col-sm-1">1</div>
                                    <div class="col-sm-2 text-left">493563</div>
                                    <div class="col-sm-8">35240670940994008196550200004935631982437539</div>
                                    <div class="col-sm-1">
                                                                            <i idAgendamentoNF="7081577'" value="35240670940994008196550200004935631982437539" id="btnExcluir_5717797" onclick="excluirNota(5717797,493563)" neme="btnExcluir_5717797" class=" fas fa-trash-alt orange btn"></i>
                                                                        </div>                  
                                </div>
                                                                                    <div id="dv_5717798" neme = "dv_5717798" class="row">
                                    <div class="col-sm-1">2</div>
                                    <div class="col-sm-2 text-left">493561</div>
                                    <div class="col-sm-8">35240670940994008196550200004935611502239202</div>
                                    <div class="col-sm-1">
                                                                            <i idAgendamentoNF="7081577'" value="35240670940994008196550200004935611502239202" id="btnExcluir_5717798" onclick="excluirNota(5717798,493561)" neme="btnExcluir_5717798" class=" fas fa-trash-alt orange btn"></i>
                                                                        </div>                  
                                </div>
                                                                                                    </div>  

                                                </div>
                        
                    </div>                                       
                    <div class="row">
                        <div class="col-md-12 totalizadores">
                        <label class="orange subtitle">Totalizadores</label>
                        <div class="box-totalizador">
                                                        <span class="valor toneladas_liquido ">10462,920</span>
                            <label class="titulo">Peso liquido</label>
                                                    </div>
                        <div class="box-totalizador">
                                                        <span class="valor toneladas_bruto">9502,440</span>
                            <label class="titulo">Peso bruto</label>
                                                    </div>
                        <div class="box-totalizador">
                            <span class="valor pedidos">0</span>
                            <label class="titulo">Pedidos</label>
                        </div>
                        <div class="box-totalizador">
                            <span class="valor itens">0</span>
                            <label class="titulo">Itens</label>
                        </div>
                        <div class="box-totalizador">
                                                        <span class="valor">25,177</span>
                            <label class="titulo">Paletes</label>
                                                    </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-5 form-group">
                        <label>Unidade <b class="f_editando orange">*</b> </label>
                        <div class="f_editando">
                            <div class="unidade itxt" name="unidade">183 - JACAREI-CD</div>
                            <input type="hidden" name="id_unidade" id="id_unidade" value="157" />
                        </div>
                        <div class="f_exibindo">
                                                        183 - JACAREI-CD
                                                    </div>
                        </div>

                        <div class="col-md-5 form-group">
                        <label>Fornecedor <b class="f_editando orange">*</b> </label>
                        <div class="f_editando">
                            <div class="fornecedor itxt" name="fornecedor">PANDURATA ALIMENTOS LTDA</div>
                            <input type="hidden" name="id_fornecedor" id="id_fornecedor" value="10434" />
                        </div>
                        <div class="f_exibindo">
                                                        PANDURATA ALIMENTOS LTDA
                                                    </div>
                        </div>

                        <div id="leadtime-minimo-container" class="col-md-4 form-group">
                        <label>Disponibilidade de entrega <b class="f_editando orange">*</b>
                            <i title="Para fazer a montagem da carga é necessário inserir uma data mínima de disponibilidade de entrega pelo fornecedor." class="f_editando fas fa-xs fa-question-circle orange ajuda"></i></label>
                        <div class="f_editando">
                            <input name="leadtime_minimo" id="leadtime_minimo" data-datepicker_options='{"widgetPositioning": {"vertical":"bottom"}}' type="text" class="form-control datepicker" value="26/07/2024" />
                        </div>
                        <div class="f_exibindo">
                            <!-- 26/07/2024  -->
                            05/07/2024 
                        </div>
                        </div>

                                                <div class="col-md-4 form-group">
                            <label>Espécie de carga<b class="f_editando orange">*</b> </label>
                            <div class="f_editando">
                                <select class="form-control" name="id_especie_carga" disabled>
                                    <option value=""> Selecionar </option>
                                                                            <option value="3"
                                            >
                                            Hortifruti
                                        </option>
                                                                            <option value="2"
                                            >
                                            Refrigerada
                                        </option>
                                                                            <option value="1"
                                             selected >
                                            Seca
                                        </option>
                                                                    </select>
                            </div>
                            <div class="f_exibindo">
                                                                    Seca
                                                            </div>
                        </div>

                        <div class="col-md-8 form-group">
                            <label>Transportadora <b class="f_editando orange">*</b> </label>
                            <div class="f_editando">
                                <div class="input-group">
                                    <input type="hidden" name="id_transportadora" id="id_transportadora" value="1" />
                                    <div class="form-control" id="transportadora" name="transportadora" readonly>Agregado / Frota Própria / A definir</div>
                                    <span class="input-group-btn" title="Buscar">
                                        <button class="btn btn-default" data-target="#modal-transportadoras" data-toggle="modal" type="button">
                                        <i class="fas fa-search"></i>
                                        </button>
                                    </span>
                                    <span class="input-group-btn" title="Limpar">
                                        <button class="btn btn-default remover_transp" type="button">
                                        <i class="fas fa-times"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                            <div class="f_exibindo">
                                                                    Agregado / Frota Própria / A definir
                                                            </div>
                        </div>

                        <div class="col-md-4 form-group">
                            <div class="f_exibindo no-border">
                                <label>Data de emissão</label>
                                                                <div class="f_exibindo">26/06/2024 07:20</div>
                            </div>
                        </div>
                    </div>

                    </div>
                    </div>
                </div>

                <!-- Dados DO agendamento -->
                <div class="col-lg-4 dados_agendamento" style="float: right!important;">
                    <div>
                    <h4 class="orange title_sep"><i class="fas fa-calendar-alt"></i> Dados do agendamento</h4>

                                                <div class="f_editando">
                            <label class="permitir_transp_agendar" style="display:none"><input type="checkbox" name="permitir_transp_agendar" value="true" /> Permitir que transportadora também possa solicitar o agendamento desta carga</label>
                        </div>
                        <div class="box-dados-agendamento">

                        <div class="row">
                        <div class="col-md-12 form-group" id="data-desejada-container">
                            <label class="orange">Data desejada de agendamento <b class="f_editando orange">*</b>
                            <i title="Esta data está sujeita a aprovação da Central de Agendamento" class="f_editando fas fa-xs fa-question-circle orange ajuda"></i></label>
                            </label>
                            <div class="f_editando">
                            <input name="data_desejada" class="form-control datepicker" type="text" />
                            </div>
                            <div class="f_exibindo">
                                                            26/07/2024
                                                        </div>
                        </div>

                        <div class="col-md-12 form-group">
                            <label class="orange">Tipo de carga <b class="f_editando orange">*</b> </label>
                            <div class="f_editando">
                                <select class="form-control" name="carga_especie_id"
                                     disabled  title="Itens com entrega somente paletizada." data-toggle="tooltip" >

                                    <option value="">Selecionar</option>
                                                                            <option  selected  value="1">Paletizada</option>
                                                                            <option  value="2">Não Paletizada</option>
                                                                    </select>
                            </div>
                            <div class="f_exibindo">
                                                                    Paletizada
                                                            </div>
                        </div>

                        <div class="col-md-12 form-group">
                                                        <label class="orange">Tipo de veículo <b class="f_editando orange">*</b> </label>
                            <div class="f_editando">
                                <select class="form-control" name="tipo_veiculo">
                                    <option value="">Selecionar</option>
                                                                            <option value="1">
                                        Bitrem-Graneleiro
                                        </option>
                                                                            <option value="2">
                                        Carreta-Baú
                                        </option>
                                                                            <option value="3">
                                        Carreta-Container
                                        </option>
                                                                            <option value="4">
                                        Carreta-Sider
                                        </option>
                                                                            <option value="5">
                                        F4000-3/4 - Baú
                                        </option>
                                                                            <option value="6">
                                        Kombi/Van
                                        </option>
                                                                            <option value="7">
                                        Rodotrem-Baú
                                        </option>
                                                                            <option value="8">
                                        Truck-Baú
                                        </option>
                                                                            <option value="9">
                                        Truck-Sider
                                        </option>
                                                                            <option value="10">
                                        Carreta-Graneleira
                                        </option>
                                                                            <option value="11">
                                        Toco-Baú
                                        </option>
                                                                            <option value="12">
                                        Truck - Graneleiro
                                        </option>
                                                                    </select>
                            </div>
                            <div class="f_exibindo">

                                                            Carreta-Baú
                                                        </div>
                        </div>

                                                    <div class="col-md-12 form-group">
                                <label class="orange">Solicitação de agendamento</label>
                                <div class="f_exibindo">
                                    <a href="https://atacadao.hodiebooking.com.br/agendamentos/2407050049252">2407050049252</a>
                                </div>
                            </div>
                        
                                                    <div class="col-md-12 form-group">
                                <label class="orange">Número do embarque do fornecedor</label>
                                <div class="f_exibindo">
                                    
                                </div>
                            </div>
                                                </div>


                    </div>
                    </div>
                </div>

                </div>

                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#itens" data-toggle="tab"> Itens da carga</a>
                    </li>
                                        <li class="">
                        <a href="#linha_do_tempo" data-toggle="tab"> Linha do tempo</a>
                    </li>
                                    </ul>

                <div class="tab-content padding border">
                    <div class="tab-pane active" id="itens">
                        <div class="alert alert-danger erro_itens" style="display: none;">
                            <span class="msg"></span>
                        </div>
                        <v-client-table v-cloak name="itens_alocados_table" ref="itens_alocados_table"
                            :data="tableData"
                            :columns="columns"
                            :options="options">
                            <span slot="produto_codalfa" slot-scope="props">
                                {{ getValRelation(props.row, 'produto_codalfa') }}
                            </span>
                            <span slot="produto_nome" slot-scope="props">
                                {{ getValRelation(props.row, 'produto_nome') }}
                            </span>
                            <span slot="nr_pedido" slot-scope="props">
                                {{ getValRelation(props.row, 'nr_pedido') }}
                            </span>
                            <div class="form-group" style="margin: 0" slot="qtd_alocar" slot-scope="props">
                                <div class="f_editando">
                                    <input type="text" class="form-control input-sm"
                                        @change="changeVal(props.row)"
                                        :value="props.row.qtd_alocar"
                                        :name="`qtd_alocada[`+props.row.id_pedido_item+`]`" />
                                </div>
                                <span class="f_exibindo no-border">{{ props.row.qtd_alocar }}</span>
                            </div>
                            <span slot="qtd_pallets_embalagem" slot-scope="props">
                                {{ getValRelation(props.row, 'qtd_pallets_embalagem') }}
                            </span>
                            <div slot="acoes" slot-scope="props" class="acoes">
                                <div class="f_editando">
                                    <a @click="remover(props.row)" class="acao acao-sm" href="javascript:void(0)">
                                        <i class="fas fa-lg fa-times"></i>
                                    </a>
                                </div>
                            </div>
                        </v-client-table>
                    </div>
                    <!-- /.tab-pane -->

                                            <div class="tab-pane" id="linha_do_tempo">
                                                        <div style="">
                <h3 style="margin: 0 0 10px 0; padding: 0 0 5px 0; border-bottom: 1px solid #ddd;">Agendamento</h3>
                <!-- The time line -->
        <ul class="timeline">

        
            <!-- timeline time label -->
            <li class="time-label">
                <span class="bg-blue">
                29/07/2024
                </span>
            </li>

            
            <!-- timeline item -->
            <li>
                <i class="fas fa-dolly" style="background-color: #F08036; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Recebimento Jacareí CD</span>
                                                <i class="far fa-clock"></i> 17:49:09
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #F08036">Descarregamento</span>
                    </h4>
                                        <div class="timeline-body no-padding" style="width: 100%; overflow: auto;">
                        <table class="table table-condensed-small table-hover table-bordered" style="position: relative; top: -6px; margin: 0">
                            <tr>
                                <th width="33%"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                            </tr>
                                                        <tr>
                                <td>Data do descarregamento</td>
                                <td></td>
                                <td>29/07/2024 15:09</td>
                            <tr>
                                                    </table>
                    </div>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
            
            <!-- timeline item -->
            <li>
                <i class="fas fa-check" style="background-color: #F08036; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Recebimento Jacareí CD</span>
                                                <i class="far fa-clock"></i> 15:06:56
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #F08036">Check-in</span>
                    </h4>
                                        <div class="timeline-body no-padding" style="width: 100%; overflow: auto;">
                        <table class="table table-condensed-small table-hover table-bordered" style="position: relative; top: -6px; margin: 0">
                            <tr>
                                <th width="33%"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                            </tr>
                                                        <tr>
                                <td>Data e hora de check-in</td>
                                <td></td>
                                <td>29/07/2024 13:24</td>
                            <tr>
                                                    </table>
                    </div>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
            
            <!-- timeline item -->
            <li>
                <i class="fas fa-arrow-right" style="background-color: #F08036; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Recebimento Jacareí CD</span>
                                                <i class="far fa-clock"></i> 14:49:09
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #F08036">Check-out</span>
                    </h4>
                                        <div class="timeline-body no-padding" style="width: 100%; overflow: auto;">
                        <table class="table table-condensed-small table-hover table-bordered" style="position: relative; top: -6px; margin: 0">
                            <tr>
                                <th width="33%"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                            </tr>
                                                        <tr>
                                <td>observações</td>
                                <td></td>
                                <td>liberado</td>
                            <tr>
                                                        <tr>
                                <td>Data check-out</td>
                                <td></td>
                                <td>29/07/2024 17:48</td>
                            <tr>
                                                    </table>
                    </div>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
            
            <!-- timeline item -->
            <li>
                <i class="fas fa-pencil-alt" style="background-color: #666; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Recebimento Jacareí CD</span>
                                                <i class="far fa-clock"></i> 13:24:47
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #666">Alteração de dados</span>
                    </h4>
                                        <div class="timeline-body no-padding" style="width: 100%; overflow: auto;">
                        <table class="table table-condensed-small table-hover table-bordered" style="position: relative; top: -6px; margin: 0">
                            <tr>
                                <th width="33%"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                            </tr>
                                                        <tr>
                                <td>Placa do veículo</td>
                                <td></td>
                                <td>EOE-5D63</td>
                            <tr>
                                                        <tr>
                                <td>Motorista</td>
                                <td></td>
                                <td>SERGIO A. DE CASTRO</td>
                            <tr>
                                                    </table>
                    </div>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
            
            <!-- timeline item -->
            <li>
                <i class="far fa-calendar-check" style="background-color: #F08036; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Francisco Edinaldo Sousa Santos</span>
                                                <i class="far fa-clock"></i> 13:24:45
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #F08036">Aprovação do agendamento</span>
                    </h4>
                                        <div class="timeline-body no-padding" style="width: 100%; overflow: auto;">
                        <table class="table table-condensed-small table-hover table-bordered" style="position: relative; top: -6px; margin: 0">
                            <tr>
                                <th width="33%"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                            </tr>
                                                        <tr>
                                <td>Protocolo</td>
                                <td></td>
                                <td>SJXJ895</td>
                            <tr>
                                                        <tr>
                                <td>Entrega aprovada para</td>
                                <td></td>
                                <td></td>
                            <tr>
                                                    </table>
                    </div>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
                    
            <!-- timeline time label -->
            <li class="time-label">
                <span class="bg-blue">
                05/07/2024
                </span>
            </li>

            
            <!-- timeline item -->
            <li>
                <i class="fas fa-pencil-alt" style="background-color: #666; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Bruna Vitoria Silva Campos</span>
                                                <i class="far fa-clock"></i> 15:56:54
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #666">Alteração de dados</span>
                    </h4>
                                        <div class="timeline-body no-padding" style="width: 100%; overflow: auto;">
                        <table class="table table-condensed-small table-hover table-bordered" style="position: relative; top: -6px; margin: 0">
                            <tr>
                                <th width="33%"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                            </tr>
                                                        <tr>
                                <td>Minutos descarregamento</td>
                                <td>0.00000</td>
                                <td>78.00000</td>
                            <tr>
                                                    </table>
                    </div>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
            
            <!-- timeline item -->
            <li>
                <i class="fas fa-circle" style="background-color: #0073B7; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Bruna Vitoria Silva Campos</span>
                                                <i class="far fa-clock"></i> 11:59:35
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #0073B7">Solicitação de agendamento</span>
                    </h4>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
                                <li>
                <i class="fas fa-stop bg-gray" style="color: #FFF"></i>
            </li>
        </ul>
    </div>

            
    <div style="margin-top: 60px;">
                <!-- The time line -->
        <ul class="timeline">

        
            <!-- timeline time label -->
            <li class="time-label">
                <span class="bg-blue">
                29/07/2024
                </span>
            </li>

            
            <!-- timeline item -->
            <li>
                <i class="fas fa-pencil-alt" style="background-color: #666; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Recebimento Jacareí CD</span>
                                                <i class="far fa-clock"></i> 18:06:56
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #666">Alteração de dados</span>
                    </h4>
                                        <div class="timeline-body no-padding" style="width: 100%; overflow: auto;">
                        <table class="table table-condensed-small table-hover table-bordered" style="position: relative; top: -6px; margin: 0">
                            <tr>
                                <th width="33%"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                            </tr>
                                                        <tr>
                                <td>dthr_descarregamento</td>
                                <td></td>
                                <td>2024-07-29 18:09:00</td>
                            <tr>
                                                    </table>
                    </div>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
                    
            <!-- timeline time label -->
            <li class="time-label">
                <span class="bg-blue">
                05/07/2024
                </span>
            </li>

            
            <!-- timeline item -->
            <li>
                <i class="fas fa-pencil-alt" style="background-color: #666; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Bruna Vitoria Silva Campos</span>
                                                <i class="far fa-clock"></i> 14:59:35
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #666">Alteração de dados</span>
                    </h4>
                                        <div class="timeline-body no-padding" style="width: 100%; overflow: auto;">
                        <table class="table table-condensed-small table-hover table-bordered" style="position: relative; top: -6px; margin: 0">
                            <tr>
                                <th width="33%"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                                <th width="33%" style="text-transform: uppercase; font-size: 12px; font-weight: normal; color: #333;"></th>
                            </tr>
                                                        <tr>
                                <td>minutos_descarregamento</td>
                                <td>0.00000</td>
                                <td>78.00000</td>
                            <tr>
                                                    </table>
                    </div>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
            
            <!-- timeline item -->
            <li>
                <i class="fas fa-circle" style="background-color: #0073B7; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Sistema</span>
                                                <i class="far fa-clock"></i> 11:59:35
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #0073B7">Solicitação de agendamento</span>
                    </h4>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
            
            <!-- timeline item -->
            <li>
                <i class="fas fa-dolly" style="background-color: #0073B7; color: #FFF"></i>
                <div class="timeline-item" style="padding-bottom: 10px;">
                    <span class="time">
                                                <span style="margin: 0 5px 0 0"><i class="fas fa-user"></i> Jacqueline Ferreira Dias</span>
                                                <i class="far fa-clock"></i> 11:59:35
                    </span>
                    <h4 class="timeline-header">
                        <span class="titulo" style="color: #0073B7">Criação da carga</span>
                    </h4>
                                        <!--<div class="timeline-footer">
                    <a class="btn btn-primary btn-xs">Read more</a>
                    <a class="btn btn-danger btn-xs">Delete</a>
                    </div>-->
                </div>
            </li>
                                <li>
                <i class="fas fa-stop bg-gray" style="color: #FFF"></i>
            </li>
        </ul>
    </div>

                                    </div>
                    <!-- /.tab-pane -->
                                    </div>
            </div>
        </form>
    </div>

    <div id="modal-pedidos-itens" class="modal fade" role="dialog">
  <div class="modal-dialog  modal-lg   modal-full " role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Incluir item/pedido</h4>
      </div>
      <div class="modal-body" style="margin-top:-29px;">
        <form class="form-busca" method="GET">
          <input type="hidden" name="com_saldo" value="true" />
          <div class="row" style="background: #dadada; margin-right:0px!important; margin-left:0px!important">
            <div class="col-md-3 form-group">
              <label class="control-label">Buscar por:</label>
              <input class="form-control" type="text" placeholder="N° pedido filial / Pedido original" name="nr_pedido"/>
            </div>
            <div class="col-md-4 form-group">
              <label class="control-label hidden-xs hidden-sm">&nbsp;</label>
              <input class="form-control" type="text" placeholder="Cód. merc. / (EAN)" name="produto_codalfa"/>
            </div>
            <div class="col-md-4 form-group">
              <label class="control-label hidden-xs hidden-sm">&nbsp;</label>
              <input class="form-control" type="text" placeholder="Nome da mercadoria" name="produto_nome"/>
            </div>
            <div class="col-md-1 form-group">
              <label class="control-label hidden-xs hidden-sm">&nbsp;</label>
              <button type="button" class="btn btn-primary enviarFormPedidosItens" style="display: block;" title="Buscar"><i class="fas fa-search"></i></button>
            </div>
          </div>
          <div class="row" style="background:#d5bb95; margin-right:0px!important; margin-left:0px!important">
            <div class="col-md-12 form-group" style="margin-bottom:3px!important;">
              <div class="pull-left" style="margin-right: 30px;">
                <strong style="margin-right: 8px;">Agrupar por:</strong>
                <label class="radio-inline"><input type="radio" name="agrupar_por" value="pedido" checked />Pedido</label>
                <label class="radio-inline"><input type="radio" name="agrupar_por" value="item" />Item</label>
              </div>

              <div class="filtro_somente_ent_iguais pull" style="display: none;">
                <label class="fwn"><input type="checkbox" name="somente_ent_iguais" value="pedido" /> Listar somente itens com a mesma unidade e fornecedor dos itens alocados</label>
                <input type="hidden" name="id_unidade" value="" />
                <input type="hidden" name="id_fornecedor" value="" />
              </div>
            </div>
          </div>
        </form>
				        <div class="row">
          <div class="col-md-12">
            <span class="badge counter" style="margin-top: 10px;">0</span> registros selecionados
          </div>
        </div>
                <div class="agrupar_por_pedido">
          <v-server-table v-cloak name="pedidositenstable_pedido" ref="pedidositenstable_pedido" url="https://atacadao.hodiebooking.com.br/pedidos/get?id_carga=7596557&amp;itens=true&amp;pedido_no_item=true&amp;orderBy=dthr_elaboracao" :columns="columns" :options="options">
            <!--<input class="select" name="m_produto" type="checkbox" slot="select" slot-scope="props" :value="getVal(props.row)" :checked="getChk(props.row)" />-->
            <div slot="conteudo" slot-scope="props">
              <div class="row" style="margin: 5px 0px 10px">
                <div class="cabecalho" style="padding: 10px; overflow: hidden; background: #f9e8e3;">
                  <div class="row">
                    <div class="col-md-3 col-sm-6">
                      <label class="orange">N° pedido filial / Pedido original</label>
                      <br><span class="dados nr_pedido orange">{{props.row.nr_pedido}}</span>
                    </div>
                    <div class="col-md-3 col-sm-6">
                      <label class="orange">Data de elaboração</label>
                      <br><span class="dados">{{formatDataHora(props.row.dthr_elaboracao)}}</span>
                    </div>
                    <div class="col-md-3 col-sm-6">
                      <label class="orange">Unidade</label>
                      <br><span class="dados">{{props.row.unidade.nome}}</span>
                    </div>
                    <div class="col-md-3 col-sm-6">
                      <label class="orange">Comprador</label>
                      <br><span class="dados">{{props.row.comprador}}</span>
                    </div>
                  </div>
                </div>
              </div>
              <div style="max-height: 480px; overflow-y: auto;">
                <table class="table table-responsive table-hover table-condensed-small" style="margin-top: 10px;">
                  <thead>
                    <tr>
                      <th>Seq.</th>
                      <th>Código</th>
                      <th>Mercadoria</th>
                      <th>Qtde. pedida</th>
                      <th>Saldo</th>
                                              <th>
                          Qtde. a alocar                          <a class="btn btn-primary" style="border-radius: 16px!important;" @click="alocarPedido(props.row.itens)" href="javascript:;" style="padding: 2px 10px; margin: 0 0 0 5px;">
                            <span class="glyphicon glyphicon-arrow-down"></span>
                            Alocar todo o pedido                          </a>
                        </th>
                                          </tr>
                  </thead>
                  <tbody>
                    <tr v-for="item in props.row.itens">
                      <td>{{ item.sequencia }}</td>
                      <td>{{ item.produto.codalfa }}</td>
                      <td>{{ item.produto.nome }}</td>
                      <td class="qtd_pedida">{{ item.qtd_pedida }}</td>
                      <td>{{ item.saldo }}</td>
                                              <td><input type="text" :data-item="getVal(item)" @change="changeVal(item)" :id_pedido_item="item.id_pedido_item" class="form-control input-sm" inteiro :name="`qtd_alocar[`+item.id_pedido_item+`]`" :value="getQtdAlocar(item)" /></td>
                                          </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </v-server-table>
        </div>

        <div class="agrupar_por_item" style="display: none; margin-top: 10px;">
          <v-server-table v-cloak name="pedidositenstable_item" ref="pedidositenstable_item" url="https://atacadao.hodiebooking.com.br/pedidos-itens/get?id_carga=7596557&amp;produtos=true&amp;pedido=true&amp;orderBy%5B%5D=pedidos.dthr_elaboracao%20desc&amp;orderBy%5B%5D=produtos.nome%20asc" :columns="columns" :options="options">
            <span slot="produto_codalfa" slot-scope="props">{{getValRelation(props.row, 'produto_codalfa')}}</span>
            <span slot="produto_nome" slot-scope="props">{{getValRelation(props.row, 'produto_nome')}}</span>
            <span slot="nr_pedido" slot-scope="props">{{getValRelation(props.row, 'nr_pedido')}}</span>
                          <div slot="qtd_alocar" slot-scope="props">
                <input type="text" :data-item="getVal(props.row)" @change="changeVal(props.row)" :id_pedido_item="props.row.id_pedido_item" class="form-control input-sm" inteiro :name="`qtd_alocar[`+props.row.id_pedido_item+`]`" :value="getQtdAlocar(props.row)" />
              </div>
                      </v-server-table>
        </div>

      </div>
      <div style="margin-top: 30px" class="modal-footer">
        <div class="row">
          <div class="col-md-12">
            <button type="button" class="btn btn-default cancelar" data-dismiss="modal">Cancelar</button>
            <button type="button" class="btn btn-primary selecionar">Selecionar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

    <div id="modal-transportadoras" class="modal fade" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Busca de empresas</h4>
      </div>
      <div class="modal-body">
        <form @keyup.enter="enviarForm" class="form-busca" method="GET">
          <div class="row">
            <div class="col-md-5 form-group">
              <label class="control-label">Buscar por:</label>
              <input class="form-control" type="text" placeholder="CNPJ" name="cnpj"/>
            </div>
            <div class="col-md-6 form-group">
              <label class="control-label">&nbsp;</label>
              <input class="form-control" type="text" placeholder="Nome" name="nome"/>
            </div>
            <div class="col-md-1 form-group">
              <label class="control-label">&nbsp;</label>
              <button @click="enviarForm" type="button" class="btn btn-primary pull-right" title="Buscar"><i class="fas fa-search"></i></button>
            </div>
          </div>
        </form>
				        <v-server-table v-if="exibir" v-cloak name="entidadestable_transportadoras_modal-transportadoras" ref="entidadestable_transportadoras_modal-transportadoras" url="https://atacadao.hodiebooking.com.br/transportadoras/get?interno=1" :columns="columns" :options="options">
            <input class="select" :id="getVal(props.row.id_entidade)" name="m_transportadoras_modal-transportadoras" type="radio" slot="select" slot-scope="props" :value="getVal(props.row)" :checked="getChk(props.row)"/>
            <label class="label-modal" slot="nome" slot-scope="props" :for="getVal(props.row.id_entidade)">{{props.row.nome}}</label>
            <label class="label-modal" slot="cnpj_completo" slot-scope="props" :for="getVal(props.row.id_entidade)">{{props.row.cnpj_formatado}}</label>
        </v-server-table>
      </div>
      <div class="modal-footer">
        <div class="row">
          <div class="col-md-12">
            <button type="button" class="btn btn-default cancelar" data-dismiss="modal">Cancelar</button>
            <button type="button" class="btn btn-primary selecionar">Selecionar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

    <div id="modal-cancelamento" class="modal fade" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title"> Cancelar agendamento </h4>

            </div>
            <div class="modal-body">
                <form>
                    <div class="row" style="padding: 10px 0;">
                        <div class="col-md-6">
                            <label class="orange" style="font-size:17px;"> Solicitação de agendamento </label> <br />
                            <strong style="font-size:15px;">  carga 6582384 </strong>
                        </div>
                        <div class="col-md-6">
                            <label class="orange" style="font-size:17px;"> Usuário solicitante </label><br/>
                            <strong style="font-size:15px;" >    Isabelly gonçalves de araujo </strong>
                        </div>
                    </div>

                    
                    <div class="row">
                        <div class="col-md-12 form-group">
                            <label class="orange">Motivo</label><br />
                            <select class="form-control" name="id_motivo_cancelamento">
                                <option value="">Selecionar</option>
                                                                    <option value="7">Automático pelo sistema (7)</option>
                                                                    <option value="6">Carga/solicitação duplicada (6)</option>
                                                                    <option value="5">Data solicitada errada (5)</option>
                                                                    <option value="3">Falta de Produção (3)</option>
                                                                    <option value="2">Falta de Veículo (2)</option>
                                                                    <option value="8">Força Maior - Feriado Decretado (8)</option>
                                                                    <option value="4">Montagem de Carga errada (4)</option>
                                                                    <option value="1">Pedido Cancelado (1)</option>
                                                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 form-group">
                            <label class="orange">Descrição</label><br />
                            <textarea name="motivo_cancelamento" class="form-control"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    Fechar                </button>
                <button type="button" class="btn btn-primary confirmar">
                    Confirmar                </button>
            </div>
        </div>
    </div>
</div>


    </div>
<footer class="main-footer" style="background-color: #D0D0D0;padding: 12px 35px;height:50px;">
  <div class="pull-right">
    <img style="height: 25px;" src="https://atacadao.hodiebooking.com.br/img/logo_runtec.png" />
  </div>
</footer>
<div id="modal-confirm" class="modal fade" role="dialog">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Confirmar</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12 form-group">
            <label style="margin-bottom: 20px" class="control-label msg">
              Confirma?
            </label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="row">
          <div class="col-md-12">
            <button type="button" class="btn btn-default nao">Não</button>
            <button type="button" class="btn btn-primary sim">Sim</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="modal-alert" class="modal fade" role="dialog">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Alerta</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12 form-group">
            <label style="margin-bottom: 20px" class="control-label msg">
              Confirma?
            </label>
          </div>
        </div>
      </div>
      <div class="modal-footer" id="footerModalAlerta" name="footerModalAlerta">
        <div class="row">
          <div class="col-md-12">
            <button type="button" class="btn btn-primary ok">OK</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

</div>

<!-- Scripts -->
<!-- Lang -->
<script src="https://atacadao.hodiebooking.com.br/js/lang.js"></script>

<!-- javascript route-->
<script type="text/javascript">
    var Ziggy = {
        namedRoutes: {"debugbar.openhandler":{"uri":"_debugbar\/open","methods":["GET","HEAD"],"domain":null},"debugbar.clockwork":{"uri":"_debugbar\/clockwork\/{id}","methods":["GET","HEAD"],"domain":null},"debugbar.telescope":{"uri":"_debugbar\/telescope\/{id}","methods":["GET","HEAD"],"domain":null},"debugbar.assets.css":{"uri":"_debugbar\/assets\/stylesheets","methods":["GET","HEAD"],"domain":null},"debugbar.assets.js":{"uri":"_debugbar\/assets\/javascript","methods":["GET","HEAD"],"domain":null},"debugbar.cache.delete":{"uri":"_debugbar\/cache\/{key}\/{tags?}","methods":["DELETE"],"domain":null},"terminal.index":{"uri":"terminal\/{view?}","methods":["GET","HEAD"],"domain":null},"terminal.endpoint":{"uri":"terminal\/endpoint","methods":["POST"],"domain":null},"terminal.media":{"uri":"terminal\/media\/{file}","methods":["GET","HEAD"],"domain":null},"assets.lang":{"uri":"js\/lang.js","methods":["GET","HEAD"],"domain":null},"manager.cargas.inserenfcarga":{"uri":"cargas\/inserenfcarga","methods":["POST"],"domain":null},"manager.agendamento.inserenfagendamento":{"uri":"agendamento\/inserenfagendamento","methods":["POST"],"domain":null},"manager.cargas.deletenfcarga":{"uri":"cargas\/deletenfcarga\/{idNF}","methods":["GET","HEAD"],"domain":null},"manager.caragendamentogas.deletenfagendamento":{"uri":"agendamento\/deletenfcarga\/{idNF}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.validachave":{"uri":"agendamento\/valida\/{idAgendamento}\/{chave}","methods":["GET","HEAD"],"domain":null},"index":{"uri":"\/","methods":["GET","HEAD"],"domain":null},"welcome.pedidos":{"uri":"home\/pedidos","methods":["GET","HEAD"],"domain":null},"welcome.aceite-transp":{"uri":"home\/aceite-transp","methods":["GET","HEAD"],"domain":null},"welcome.solicitacoes-pendentes":{"uri":"home\/solicitacoes-pendentes","methods":["GET","HEAD"],"domain":null},"welcome.cargas":{"uri":"home\/cargas","methods":["GET","HEAD"],"domain":null},"welcome.protocolos":{"uri":"home\/protocolos","methods":["GET","HEAD"],"domain":null},"welcome.agendamentos-hoje":{"uri":"home\/agendamentos-hoje","methods":["GET","HEAD"],"domain":null},"welcome.agendamentos-sete-dias":{"uri":"home\/agendamentos-sete-dias","methods":["GET","HEAD"],"domain":null},"welcome.agendamentos-quinze-dias":{"uri":"home\/agendamentos-quinze-dias","methods":["GET","HEAD"],"domain":null},"welcome.ultimas-cargas":{"uri":"home\/ultimas-cargas","methods":["GET","HEAD"],"domain":null},"api-agendamentos":{"uri":"api-agendamentos\/{id_agendamento?}\/{layout?}","methods":["GET","HEAD"],"domain":null},"captcha":{"uri":"captcha","methods":["GET","HEAD"],"domain":null},"usuariosonline":{"uri":"usuarios-online\/{json?}","methods":["GET","HEAD"],"domain":null},"usuariosonlinelistatipo":{"uri":"usuarios-online\/{lista?}\/{tipo}","methods":["GET","HEAD"],"domain":null},"login":{"uri":"login","methods":["GET","HEAD"],"domain":null},"logout":{"uri":"logout","methods":["POST"],"domain":null},"register":{"uri":"register","methods":["GET","HEAD"],"domain":null},"reenviar":{"uri":"reenviar","methods":["GET","HEAD"],"domain":null},"register.unidades":{"uri":"register\/unidades\/{item?}","methods":["GET","HEAD"],"domain":null},"password.email":{"uri":"password\/email","methods":["POST"],"domain":null},"password.reset":{"uri":"password\/reset\/{token}","methods":["GET","HEAD"],"domain":null},"entidades.validar-cnpj":{"uri":"cnpj\/validar\/{cnpj}\/{strCaptcha?}","methods":["GET","HEAD"],"domain":null},"validar-email":{"uri":"register\/{cnpj}\/validar-email","methods":["GET","HEAD"],"domain":null},"ativar-conta":{"uri":"ativacao\/verificar\/{token}","methods":["GET","HEAD"],"domain":null},"gerar-senha":{"uri":"ativacao\/verificar\/{token}","methods":["POST"],"domain":null},"esqueci-login.form":{"uri":"esqueci-login","methods":["GET","HEAD"],"domain":null},"esqueci-login.emails":{"uri":"esqueci-login\/{cnpj}\/emails","methods":["GET","HEAD"],"domain":null},"login-mudou":{"uri":"login-mudou","methods":["GET","HEAD"],"domain":null},"login-mudou-post":{"uri":"login-mudou","methods":["POST"],"domain":null},"entidade-get-logotipo":{"uri":"entidade-get-logotipo\/{entidademd5}","methods":["GET","HEAD"],"domain":null},"manager.":{"uri":"agd-sub-2","methods":["GET","HEAD"],"domain":null},"manager.senha-expirada":{"uri":"senha-expirada","methods":["GET","HEAD"],"domain":null},"manager.senha-expirada-post":{"uri":"senha-expirada","methods":["POST"],"domain":null},"manager.trocar-senha":{"uri":"trocar-senha","methods":["GET","HEAD"],"domain":null},"manager.trocar-senha-post":{"uri":"trocar-senha","methods":["POST"],"domain":null},"manager.notificacoes":{"uri":"notificacoes","methods":["POST"],"domain":null},"manager.notificacoes-qtd":{"uri":"notificacoes-qtd","methods":["GET","HEAD"],"domain":null},"manager.cargas-aguardando-agendamento-qtd":{"uri":"cargas-aguardando-agendamento-qtd","methods":["GET","HEAD"],"domain":null},"manager.ativacao-info":{"uri":"ativacao-info","methods":["GET","HEAD"],"domain":null},"manager.perfil.editar":{"uri":"perfil\/editar","methods":["GET","HEAD"],"domain":null},"manager.perfil.trocaperfil":{"uri":"perfil\/trocaperfil","methods":["GET","HEAD"],"domain":null},"manager.perfil.update":{"uri":"perfil","methods":["PUT"],"domain":null},"manager.perfil.index":{"uri":"perfil","methods":["GET","HEAD"],"domain":null},"manager.perfil.atualizar-display-menu":{"uri":"perfil\/atualizar-display-menu","methods":["POST"],"domain":null},"manager.perfil.atualizar-tour":{"uri":"perfil\/atualizar-tour","methods":["POST"],"domain":null},"manager.entidades.get":{"uri":"entidades\/get","methods":["GET","HEAD"],"domain":null},"manager.entidades-grupos.get":{"uri":"entidades-grupos\/get","methods":["GET","HEAD"],"domain":null},"manager.regionais.get":{"uri":"regionais\/get","methods":["GET","HEAD"],"domain":null},"manager.comprador.get":{"uri":"comprador\/get","methods":["GET","HEAD"],"domain":null},"manager.comprador.index":{"uri":"comprador\/index","methods":["GET","HEAD"],"domain":null},"manager.interfaces.json.index":{"uri":"interfaces\/{dia?}\/{json?}","methods":["GET","HEAD"],"domain":null},"manager.interfaces.index":{"uri":"interfaces\/{dia?}","methods":["GET","HEAD"],"domain":null},"manager.aprovar-usuarios.index":{"uri":"aprovar-usuarios","methods":["GET","HEAD"],"domain":null},"manager.aprovar-usuarios.json":{"uri":"aprovar-usuarios\/json","methods":["GET","HEAD"],"domain":null},"manager.aprovar-usuarios.revisar":{"uri":"aprovar-usuarios\/{usuario_id}\/{valor}","methods":["POST"],"domain":null},"manager.usuarios.get-visiveis":{"uri":"usuarios\/get-visiveis","methods":["GET","HEAD"],"domain":null},"manager.perfil.tperfil.show":{"uri":"perfil\/tperfil\/{id}","methods":["GET","HEAD"],"domain":null},"manager.perfil.tperfil.update":{"uri":"perfil\/tperfil\/update","methods":["POST"],"domain":null},"manager.updateFlagUnidadeShow":{"uri":"usuarios\/updateFlagUnidadeShow","methods":["GET","HEAD"],"domain":null},"manager.usuarios.get":{"uri":"usuarios\/get","methods":["GET","HEAD"],"domain":null},"manager.usuarios.index":{"uri":"usuarios","methods":["GET","HEAD"],"domain":null},"manager.usuarios.store":{"uri":"usuarios\/store","methods":["POST"],"domain":null},"manager.usuarios.show":{"uri":"usuarios\/{usuario}","methods":["GET","HEAD"],"domain":null},"manager.usuarios.update":{"uri":"usuarios\/{usuario}","methods":["PUT"],"domain":null},"manager.usuarios.update-acesso":{"uri":"usuarios\/{usuario}\/acesso","methods":["PUT"],"domain":null},"manager.usuarios.get-acesso":{"uri":"usuarios\/{usuario}\/acesso","methods":["GET","HEAD"],"domain":null},"manager.ajustesaldo.index":{"uri":"ajustesaldo","methods":["GET","HEAD"],"domain":null},"manager.ajustesaldo.get":{"uri":"ajustesaldo\/get","methods":["GET","HEAD"],"domain":null},"manager.ajustesaldo.show":{"uri":"ajustesaldo\/{carga}","methods":["GET","HEAD"],"domain":null},"manager.contacorrente.show":{"uri":"contacorrente\/{id}","methods":["GET","HEAD"],"domain":null},"manager.contacorrente.store":{"uri":"contacorrente\/save","methods":["PUT"],"domain":null},"manager.estornar-carga.store":{"uri":"estornar-carga\/{id}","methods":["GET","HEAD"],"domain":null},"manager.usuarios.bloquear":{"uri":"usuarios\/{usuario}\/bloquear\/{bloquear}","methods":["PUT"],"domain":null},"manager.equipes.index":{"uri":"equipes","methods":["GET","HEAD"],"domain":null},"manager.equipes.get":{"uri":"equipes\/get","methods":["GET","HEAD"],"domain":null},"manager.equipes.create":{"uri":"equipes\/create","methods":["GET","HEAD"],"domain":null},"manager.equipes.store":{"uri":"equipes\/store","methods":["POST"],"domain":null},"manager.equipes.edit":{"uri":"equipes\/{equipe}","methods":["GET","HEAD"],"domain":null},"manager.equipes.update":{"uri":"equipes\/{equipe}","methods":["PUT"],"domain":null},"manager.equipes.delete":{"uri":"equipes\/{equipe}","methods":["DELETE"],"domain":null},"manager.grupos-acesso.index":{"uri":"grupos-acesso","methods":["GET","HEAD"],"domain":null},"manager.grupos-acesso.lista":{"uri":"grupos-acesso\/lista","methods":["GET","HEAD"],"domain":null},"manager.grupos-acesso.create":{"uri":"grupos-acesso\/create","methods":["GET","HEAD"],"domain":null},"manager.grupos-acesso.perfilrestricao":{"uri":"grupos-acesso\/perfil\/{perfil}","methods":["GET","HEAD"],"domain":null},"manager.grupos-acesso.get":{"uri":"grupos-acesso\/{grupo}\/get","methods":["GET","HEAD"],"domain":null},"manager.grupos-acesso.store":{"uri":"grupos-acesso\/store","methods":["POST"],"domain":null},"manager.grupos-acesso.edit":{"uri":"grupos-acesso\/{grupo}","methods":["GET","HEAD"],"domain":null},"manager.grupos-acesso.update":{"uri":"grupos-acesso\/{grupo}","methods":["PUT"],"domain":null},"manager.grupos-acesso.delete":{"uri":"grupos-acesso\/{grupo}","methods":["DELETE"],"domain":null},"manager.fornecedores.get":{"uri":"fornecedores\/get","methods":["GET","HEAD"],"domain":null},"manager.fornecedores.index":{"uri":"fornecedores","methods":["GET","HEAD"],"domain":null},"manager.fornecedores.create":{"uri":"fornecedores\/create","methods":["GET","HEAD"],"domain":null},"manager.fornecedores.store":{"uri":"fornecedores\/create","methods":["POST"],"domain":null},"manager.fornecedores.show":{"uri":"fornecedores\/{entidade}","methods":["GET","HEAD"],"domain":null},"manager.fornecedores.update":{"uri":"fornecedores\/{entidade}","methods":["PUT"],"domain":null},"manager.fornecedores.delete":{"uri":"fornecedores\/{entidade}","methods":["DELETE"],"domain":null},"manager.fornecedores.remover-logotipo":{"uri":"fornecedores\/{entidade}\/remover-logotipo","methods":["POST"],"domain":null},"manager.fornecedores.alterar-logotipo":{"uri":"fornecedores\/{entidade}\/alterar-logotipo","methods":["POST"],"domain":null},"manager.fornecedores.restricoes":{"uri":"fornecedores\/{entidade}\/restricoes","methods":["GET","HEAD"],"domain":null},"manager.fornecedores.restricoes.store":{"uri":"fornecedores\/{entidade}\/restricoes","methods":["POST"],"domain":null},"manager.fornecedores.restricoes.excecoes":{"uri":"fornecedores\/{entidade}\/restricoes\/excecoes","methods":["GET","HEAD"],"domain":null},"manager.fornecedores.restricoes.excecoes.get":{"uri":"fornecedores\/{entidade}\/restricoes\/excecoes\/get","methods":["GET","HEAD"],"domain":null},"manager.fornecedores.restricoes.excecoes.store":{"uri":"fornecedores\/{entidade}\/restricoes\/excecoes","methods":["POST"],"domain":null},"manager.fornecedores.restricoes.excecoes.delete":{"uri":"fornecedores\/{entidade}\/restricoes\/excecoes\/{restricao}","methods":["DELETE"],"domain":null},"manager.grupos-fornecedores.index":{"uri":"grupos-fornecedores","methods":["GET","HEAD"],"domain":null},"manager.grupos-fornecedores.store":{"uri":"grupos-fornecedores\/store","methods":["POST"],"domain":null},"manager.grupos-fornecedores.update":{"uri":"grupos-fornecedores\/{grupo}","methods":["PUT"],"domain":null},"manager.grupos-fornecedores.show":{"uri":"grupos-fornecedores\/{grupo}","methods":["GET","HEAD"],"domain":null},"manager.grupos-fornecedores.delete":{"uri":"grupos-fornecedores\/{grupo}","methods":["DELETE"],"domain":null},"manager.grupos-fornecedores.usuarios.index":{"uri":"grupos-fornecedores\/{grupo}\/usuarios","methods":["GET","HEAD"],"domain":null},"manager.grupos-fornecedores.usuarios.delete":{"uri":"grupos-fornecedores\/{grupo}\/usuarios\/{usuario}","methods":["DELETE"],"domain":null},"manager.grupos-fornecedores.adicionar":{"uri":"grupos-fornecedores\/{grupo}","methods":["POST"],"domain":null},"manager.transportadoras.get":{"uri":"transportadoras\/get","methods":["GET","HEAD"],"domain":null},"manager.transportadoras.index":{"uri":"transportadoras","methods":["GET","HEAD"],"domain":null},"manager.transportadoras.create":{"uri":"transportadoras\/create","methods":["GET","HEAD"],"domain":null},"manager.transportadoras.store":{"uri":"transportadoras\/create","methods":["POST"],"domain":null},"manager.transportadoras.show":{"uri":"transportadoras\/{entidade}","methods":["GET","HEAD"],"domain":null},"manager.transportadoras.update":{"uri":"transportadoras\/{entidade}","methods":["PUT"],"domain":null},"manager.transportadoras.delete":{"uri":"transportadoras\/{entidade}","methods":["DELETE"],"domain":null},"manager.grupos-transportadoras.index":{"uri":"grupos-transportadoras","methods":["GET","HEAD"],"domain":null},"manager.grupos-transportadoras.store":{"uri":"grupos-transportadoras\/store","methods":["POST"],"domain":null},"manager.grupos-transportadoras.update":{"uri":"grupos-transportadoras\/{grupo}","methods":["PUT"],"domain":null},"manager.grupos-transportadoras.show":{"uri":"grupos-transportadoras\/{grupo}","methods":["GET","HEAD"],"domain":null},"manager.grupos-transportadoras.delete":{"uri":"grupos-transportadoras\/{grupo}","methods":["DELETE"],"domain":null},"manager.grupos-transportadoras.usuarios.index":{"uri":"grupos-transportadoras\/{grupo}\/usuarios","methods":["GET","HEAD"],"domain":null},"manager.grupos-unidades.usuarios.delete":{"uri":"grupos-transportadoras\/{grupo}\/usuarios\/{usuario}","methods":["DELETE"],"domain":null},"manager.unidades.get":{"uri":"unidades\/get","methods":["GET","HEAD"],"domain":null},"manager.unidades.index":{"uri":"unidades","methods":["GET","HEAD"],"domain":null},"manager.unidades.create":{"uri":"unidades\/create","methods":["GET","HEAD"],"domain":null},"manager.unidades.store":{"uri":"unidades\/create","methods":["POST"],"domain":null},"manager.unidades.show":{"uri":"unidades\/{entidade}","methods":["GET","HEAD"],"domain":null},"manager.unidades.update":{"uri":"unidades\/{entidade}","methods":["PUT"],"domain":null},"manager.unidades.delete":{"uri":"unidades\/{entidade}","methods":["DELETE"],"domain":null},"manager.unidades.parametros":{"uri":"unidades\/{unidade}\/parametros","methods":["GET","HEAD"],"domain":null},"manager.unidades.parametros.store":{"uri":"unidades\/{unidade}\/parametros","methods":["POST"],"domain":null},"manager.unidades.tempos":{"uri":"unidades\/{unidade}\/tempos","methods":["GET","HEAD"],"domain":null},"manager.unidades.tempos.store":{"uri":"unidades\/{unidade}\/tempos","methods":["POST"],"domain":null},"manager.unidades.filas":{"uri":"unidades\/{unidade}\/filas","methods":["GET","HEAD"],"domain":null},"manager.unidades.filas.get":{"uri":"unidades\/{unidade}\/filas\/get","methods":["GET","HEAD"],"domain":null},"manager.unidades.filas.create":{"uri":"unidades\/{unidade}\/filas\/create","methods":["GET","HEAD"],"domain":null},"manager.unidades.filas.store":{"uri":"unidades\/{unidade}\/filas\/create","methods":["POST"],"domain":null},"manager.unidades.filas.show":{"uri":"unidades\/{unidade}\/filas\/{fila}","methods":["GET","HEAD"],"domain":null},"manager.unidades.filas.update":{"uri":"unidades\/{unidade}\/filas\/{fila}","methods":["PUT"],"domain":null},"manager.unidades.filas.delete":{"uri":"unidades\/{unidade}\/filas\/{fila}","methods":["DELETE"],"domain":null},"manager.unidades.feriados.index":{"uri":"unidades\/{unidade}\/feriados","methods":["GET","HEAD"],"domain":null},"manager.unidades.feriados.get":{"uri":"unidades\/{unidade}\/feriados\/get","methods":["GET","HEAD"],"domain":null},"manager.unidades.feriados.store":{"uri":"unidades\/{unidade}\/feriados\/create","methods":["POST"],"domain":null},"manager.unidades.feriados.update":{"uri":"unidades\/{unidade}\/feriados\/{feriado}\/update","methods":["PUT"],"domain":null},"manager.unidades.feriados.show":{"uri":"unidades\/{unidade}\/feriados\/{feriado}","methods":["GET","HEAD"],"domain":null},"manager.unidades.feriados.delete":{"uri":"unidades\/{unidade}\/feriados\/{feriado}","methods":["DELETE"],"domain":null},"manager.unidades.janelas.index":{"uri":"unidades\/{unidade}\/janelas","methods":["GET","HEAD"],"domain":null},"manager.unidades.janelas.get":{"uri":"unidades\/{unidade}\/janelas\/get","methods":["GET","HEAD"],"domain":null},"manager.unidades.janelas.create":{"uri":"unidades\/{unidade}\/janelas\/create","methods":["GET","HEAD"],"domain":null},"manager.unidades.janelas.store":{"uri":"unidades\/{unidade}\/janelas\/create","methods":["POST"],"domain":null},"manager.unidades.janelas.show":{"uri":"unidades\/{unidade}\/janelas\/{janela}","methods":["GET","HEAD"],"domain":null},"manager.unidades.janelas.update":{"uri":"unidades\/{unidade}\/janelas\/{janela}","methods":["PUT"],"domain":null},"manager.unidades.janelas.delete":{"uri":"unidades\/{unidade}\/janelas\/{janela}","methods":["DELETE"],"domain":null},"manager.unidades.janelas.duplicar":{"uri":"unidades\/{unidade}\/janelas\/{janela}\/duplicar","methods":["POST"],"domain":null},"manager.unidades.tempos-descarregamento.show":{"uri":"unidades\/{unidade}\/tempos-descarregamento","methods":["GET","HEAD"],"domain":null},"manager.unidades.tempos-descarregamento.store":{"uri":"unidades\/{unidade}\/tempos-descarregamento","methods":["PUT"],"domain":null},"manager.grupos-unidades.list_unidades":{"uri":"grupos-unidades\/lista","methods":["GET","HEAD"],"domain":null},"manager.grupos-regionais.index":{"uri":"grupos-regionais","methods":["GET","HEAD"],"domain":null},"manager.grupos-regionais.show":{"uri":"grupos-regionais\/{grupo}","methods":["GET","HEAD"],"domain":null},"manager.grupos-unidades.index":{"uri":"grupos-unidades","methods":["GET","HEAD"],"domain":null},"manager.grupos-unidades.store":{"uri":"grupos-unidades\/store","methods":["POST"],"domain":null},"manager.grupos-unidades.update":{"uri":"grupos-unidades\/{grupo}","methods":["PUT"],"domain":null},"manager.grupos-unidades.show":{"uri":"grupos-unidades\/{grupo}","methods":["GET","HEAD"],"domain":null},"manager.grupos-unidades.delete":{"uri":"grupos-unidades\/{grupo}","methods":["DELETE"],"domain":null},"manager.grupos-unidades.usuarios.index":{"uri":"grupos-unidades\/{grupo}\/usuarios","methods":["GET","HEAD"],"domain":null},"manager.pedidos.index":{"uri":"pedidos","methods":["GET","HEAD"],"domain":null},"manager.pedidos.get":{"uri":"pedidos\/get","methods":["GET","HEAD"],"domain":null},"manager.pedidos.getPedidoExpreso":{"uri":"pedidos\/getPedidoExpreso","methods":["GET","HEAD"],"domain":null},"manager.pedidos.show":{"uri":"pedidos\/{pedido}","methods":["GET","HEAD"],"domain":null},"manager.pedidos.store":{"uri":"pedidos\/{pedido}","methods":["POST"],"domain":null},"manager.pedidos.update":{"uri":"pedidos\/{pedido}","methods":["PUT"],"domain":null},"manager.pedidos.delete":{"uri":"pedidos\/{pedido}","methods":["DELETE"],"domain":null},"manager.pedidos-itens.get":{"uri":"pedidos-itens\/get","methods":["GET","HEAD"],"domain":null},"manager.municipios.get":{"uri":"municipios\/get","methods":["GET","HEAD"],"domain":null},"manager.estados.get":{"uri":"estados\/get","methods":["GET","HEAD"],"domain":null},"manager.municipios.index":{"uri":"municipios","methods":["GET","HEAD"],"domain":null},"manager.municipios.create":{"uri":"municipios\/create","methods":["GET","HEAD"],"domain":null},"manager.municipios.store":{"uri":"municipios\/create","methods":["POST"],"domain":null},"manager.municipios.update":{"uri":"municipios\/{municipio}","methods":["PUT"],"domain":null},"manager.municipios.show":{"uri":"municipios\/{municipio}","methods":["GET","HEAD"],"domain":null},"manager.municipios.delete":{"uri":"municipios\/{municipio}","methods":["DELETE"],"domain":null},"manager.tipos-veiculos.index":{"uri":"tipos-veiculos","methods":["GET","HEAD"],"domain":null},"manager.tipos-veiculos.get":{"uri":"tipos-veiculos\/get","methods":["GET","HEAD"],"domain":null},"manager.tipos-veiculos.create":{"uri":"tipos-veiculos\/create","methods":["GET","HEAD"],"domain":null},"manager.tipos-veiculos.store":{"uri":"tipos-veiculos\/create","methods":["POST"],"domain":null},"manager.tipos-veiculos.update":{"uri":"tipos-veiculos\/{tipoveiculo}","methods":["PUT"],"domain":null},"manager.tipos-veiculos.show":{"uri":"tipos-veiculos\/{tipoveiculo}","methods":["GET","HEAD"],"domain":null},"manager.tipos-veiculos.delete":{"uri":"tipos-veiculos\/{tipoveiculo}","methods":["DELETE"],"domain":null},"manager.tipos-cargas.index":{"uri":"tipos-cargas","methods":["GET","HEAD"],"domain":null},"manager.tipos-cargas.get":{"uri":"tipos-cargas\/get","methods":["GET","HEAD"],"domain":null},"manager.tipos-cargas.create":{"uri":"tipos-cargas\/create","methods":["GET","HEAD"],"domain":null},"manager.tipos-cargas.store":{"uri":"tipos-cargas\/create","methods":["POST"],"domain":null},"manager.tipos-cargas.update":{"uri":"tipos-cargas\/{tipocarga}","methods":["PUT"],"domain":null},"manager.tipos-cargas.show":{"uri":"tipos-cargas\/{tipocarga}","methods":["GET","HEAD"],"domain":null},"manager.tipos-cargas.delete":{"uri":"tipos-cargas\/{tipocarga}","methods":["DELETE"],"domain":null},"manager.cargas.index":{"uri":"cargas","methods":["GET","HEAD"],"domain":null},"manager.cargas.get":{"uri":"cargas\/get","methods":["GET","HEAD"],"domain":null},"manager.cargas.modalCargas":{"uri":"cargas\/modalCargas","methods":["GET","HEAD"],"domain":null},"manager.relatorio.arquivosPedidos.index":{"uri":"relatorio\/arquivosPedidos","methods":["GET","HEAD"],"domain":null},"manager.relatorio.planilhaPedidos.index":{"uri":"relatorio\/planilhaPedidos","methods":["GET","HEAD"],"domain":null},"manager.relatorio.planilhaPedidos.get":{"uri":"relatorio\/planilhaPedidos\/get\/{tipoSaida?}","methods":["GET","HEAD"],"domain":null},"manager.relatorio.agendamento.index":{"uri":"relatorio\/agendamento","methods":["GET","HEAD"],"domain":null},"manager.relatorio.agendamento.get":{"uri":"relatorio\/agendamento\/get\/{tipoSaida?}","methods":["GET","HEAD"],"domain":null},"manager.relatorio.logistica.index":{"uri":"relatorio\/logistica","methods":["GET","HEAD"],"domain":null},"manager.relatorio.logistica.get":{"uri":"relatorio\/logistica\/get\/{tipo?}","methods":["GET","HEAD"],"domain":null},"manager.relatorio.itens.index":{"uri":"relatorio\/itens","methods":["GET","HEAD"],"domain":null},"manager.relatorio.itens.get":{"uri":"relatorio\/itens\/get\/{tipo?}","methods":["GET","HEAD"],"domain":null},"manager.rel_item_valor.itensvalor.index":{"uri":"relatorio\/itens_valor","methods":["GET","HEAD"],"domain":null},"manager.rel_item_valor.itensvalor.get":{"uri":"relatorio\/itens_valor\/get\/{tipo?}","methods":["GET","HEAD"],"domain":null},"manager.cargas.create":{"uri":"cargas\/create","methods":["GET","HEAD"],"domain":null},"manager.cargas.store":{"uri":"cargas\/create","methods":["POST"],"domain":null},"manager.cargas.update":{"uri":"cargas\/{carga}","methods":["PUT"],"domain":null},"manager.cargas.show":{"uri":"cargas\/{carga}","methods":["GET","HEAD"],"domain":null},"manager.cargas.delete":{"uri":"cargas\/{carga}","methods":["DELETE"],"domain":null},"manager.cargas.cancelar":{"uri":"cargas\/cancelar\/{carga}","methods":["PUT"],"domain":null},"manager.cargas.para_agendar":{"uri":"cargas_para_agendar","methods":["GET","HEAD"],"domain":null},"manager.cargasPlanilha.index":{"uri":"cargas-planilha","methods":["GET","HEAD"],"domain":null},"manager.cargasPlanilha.store":{"uri":"cargas-planilha\/create","methods":["POST"],"domain":null},"manager.cargasPlanilha.delete":{"uri":"cargas-planilha\/delete","methods":["DELETE"],"domain":null},"manager.cargasPlanilha.analisa":{"uri":"cargas-planilha\/analisa","methods":["PUT"],"domain":null},"manager.cargasPlanilha.salvar":{"uri":"cargas-planilha\/salvar","methods":["POST"],"domain":null},"manager.cargasPlanilha.download-modelo":{"uri":"cargas-planilha\/download_modelo","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.monitor-operacional":{"uri":"agendamentos\/monitor-operacional","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.get-dados-monitor-operacional":{"uri":"agendamentos\/get-dados-monitor-operacional","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.calendario":{"uri":"agendamentos\/calendario\/{unidade?}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.calendario-get":{"uri":"agendamentos\/calendario\/get\/{unidade?}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.index":{"uri":"agendamentos","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.create":{"uri":"agendamentos\/create","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.exportar-in":{"uri":"agendamentos\/export\/checkin\/{nomearquivo}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.descarregamento":{"uri":"agendamentos\/export\/descarregamento\/{nomearquivo}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.exportar-out":{"uri":"agendamentos\/export\/checkout\/{nomearquivo}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.store":{"uri":"agendamentos\/create","methods":["POST"],"domain":null},"manager.agendamentos.get":{"uri":"agendamentos\/get","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.info":{"uri":"agendamentos\/info\/{agendamento}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.get-por-situacao":{"uri":"agendamentos\/get-por-situacao","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.get-por-mercadoria":{"uri":"agendamentos\/get-por-mercadoria\/{produto}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.confirmacao":{"uri":"agendamentos\/confirmacao","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.confirmacao.resumo":{"uri":"agendamentos\/confirmacao\/{unidade}\/resumo","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.confirmacao.unidade":{"uri":"agendamentos\/confirmacao\/{protocolo}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.show":{"uri":"agendamentos\/{agendamento}","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.aprovar":{"uri":"agendamentos\/{agendamento}\/aprovar","methods":["PUT"],"domain":null},"manager.agendamentos.trocar-transp":{"uri":"agendamentos\/{agendamento}\/trocar-transp","methods":["PUT"],"domain":null},"manager.agendamentos.qrcode":{"uri":"agendamentos\/{agendamento}\/qrcode","methods":["GET","HEAD"],"domain":null},"manager.agendamentos.desfazer-checkin":{"uri":"agendamentos\/{agendamento}\/desfazer-checkin","methods":["DELETE"],"domain":null},"manager.agendamentos.checkout":{"uri":"agendamentos\/{agendamento}\/checkout","methods":["PUT"],"domain":null},"manager.agendamentos.desfazer-checkout":{"uri":"agendamentos\/{agendamento}\/desfazer-checkout","methods":["DELETE"],"domain":null},"manager.agendamentos.noshow":{"uri":"agendamentos\/{agendamento}\/noshow","methods":["PUT"],"domain":null},"manager.agendamentos.set-posicao-fila":{"uri":"agendamentos\/{agendamento}\/set-posicao-fila","methods":["PUT"],"domain":null},"manager.agendamentos.desfazer-descarregamento":{"uri":"agendamentos\/{agendamento}\/desfazer-descarregamento","methods":["PUT"],"domain":null},"manager.agendamentos-ocorrencias.update":{"uri":"agendamentos-ocorrencias\/{agendamentoocorrencia}","methods":["PUT"],"domain":null},"manager.agendamentos-ocorrencias.delete":{"uri":"agendamentos-ocorrencias\/{agendamentoocorrencia}","methods":["DELETE"],"domain":null},"manager.motoristas.json":{"uri":"motorista\/{motorista}\/json","methods":["GET","HEAD"],"domain":null},"manager.agendamentos-ocorrencias.store":{"uri":"agendamentos-ocorrencias\/create","methods":["POST"],"domain":null},"manager.agendamentos.descarregar":{"uri":"agendamentos\/{agendamento}\/descarregar","methods":["PUT"],"domain":null},"manager.agendamentos.checkin":{"uri":"agendamentos\/{agendamento}\/checkin","methods":["PUT"],"domain":null},"manager.agendamentos.dados-veiculo":{"uri":"agendamentos\/{agendamento}\/dados-veiculo","methods":["PUT"],"domain":null},"manager.agendamentos.cancelar":{"uri":"agendamentos\/{agendamento}\/cancelar","methods":["PUT"],"domain":null},"manager.agendamentos.chamar-motorista":{"uri":"agendamentos\/{agendamento}\/chamar-motorista","methods":["PUT"],"domain":null},"manager.agendamentos.aceite-transp":{"uri":"agendamentos\/{agendamento}\/aceite-transp\/{resposta}","methods":["PUT"],"domain":null},"manager.especies-cargas.index":{"uri":"especies-cargas","methods":["GET","HEAD"],"domain":null},"manager.especies-cargas.get":{"uri":"especies-cargas\/get","methods":["GET","HEAD"],"domain":null},"manager.especies-cargas.create":{"uri":"especies-cargas\/create","methods":["GET","HEAD"],"domain":null},"manager.especies-cargas.store":{"uri":"especies-cargas\/create","methods":["POST"],"domain":null},"manager.especies-cargas.update":{"uri":"especies-cargas\/{especiecarga}","methods":["PUT"],"domain":null},"manager.especies-cargas.show":{"uri":"especies-cargas\/{especiecarga}","methods":["GET","HEAD"],"domain":null},"manager.especies-cargas.delete":{"uri":"especies-cargas\/{especiecarga}","methods":["DELETE"],"domain":null},"manager.motivos-ocorrencias.index":{"uri":"motivos-ocorrencias","methods":["GET","HEAD"],"domain":null},"manager.motivos-ocorrencias.get":{"uri":"motivos-ocorrencias\/get","methods":["GET","HEAD"],"domain":null},"manager.motivos-ocorrencias.create":{"uri":"motivos-ocorrencias\/create","methods":["GET","HEAD"],"domain":null},"manager.motivos-ocorrencias.store":{"uri":"motivos-ocorrencias\/create","methods":["POST"],"domain":null},"manager.motivos-ocorrencias.update":{"uri":"motivos-ocorrencias\/{motivoocorrencia}","methods":["PUT"],"domain":null},"manager.motivos-ocorrencias.show":{"uri":"motivos-ocorrencias\/{motivoocorrencia}","methods":["GET","HEAD"],"domain":null},"manager.motivos-ocorrencias.delete":{"uri":"motivos-ocorrencias\/{motivoocorrencia}","methods":["DELETE"],"domain":null},"manager.bloqueio.index":{"uri":"bloqueio-agendamento\/{filtro?}","methods":["GET","HEAD"],"domain":null},"manager.bloqueio.create":{"uri":"bloqueio-agendamento\/create","methods":["POST"],"domain":null},"manager.bloqueio.delete":{"uri":"bloqueio-agendamento\/delete\/{id?}","methods":["GET","HEAD"],"domain":null},"manager.bloqueio.valida":{"uri":"bloqueio-agendamento\/valida\/{data?}","methods":["GET","HEAD"],"domain":null},"manager.motivos-cancelamentos.index":{"uri":"motivos-cancelamentos","methods":["GET","HEAD"],"domain":null},"manager.motivos-cancelamentos.get":{"uri":"motivos-cancelamentos\/get","methods":["GET","HEAD"],"domain":null},"manager.motivos-cancelamentos.create":{"uri":"motivos-cancelamentos\/create","methods":["GET","HEAD"],"domain":null},"manager.motivos-cancelamentos.store":{"uri":"motivos-cancelamentos\/create","methods":["POST"],"domain":null},"manager.motivos-cancelamentos.update":{"uri":"motivos-cancelamentos\/{motivocancelamento}","methods":["PUT"],"domain":null},"manager.motivos-cancelamentos.show":{"uri":"motivos-cancelamentos\/{motivocancelamento}","methods":["GET","HEAD"],"domain":null},"manager.motivos-cancelamentos.delete":{"uri":"motivos-cancelamentos\/{motivocancelamento}","methods":["DELETE"],"domain":null},"manager.motivos-noshow.index":{"uri":"motivos-noshow","methods":["GET","HEAD"],"domain":null},"manager.motivos-noshow.create":{"uri":"motivos-noshow\/create","methods":["GET","HEAD"],"domain":null},"manager.motivos-noshow.get":{"uri":"motivos-noshow\/get","methods":["GET","HEAD"],"domain":null},"manager.motivos-noshow.store":{"uri":"motivos-noshow\/create","methods":["POST"],"domain":null},"manager.motivos-noshow.show":{"uri":"motivos-noshow\/{motivonoshow}","methods":["GET","HEAD"],"domain":null},"manager.motivos-noshow.update":{"uri":"motivos-noshow\/{motivonoshow}","methods":["PUT"],"domain":null},"manager.motivos-noshow.delete":{"uri":"motivos-noshow\/{motivonoshow}","methods":["DELETE"],"domain":null},"manager.motivos-priorizacao.index":{"uri":"motivos-priorizacao","methods":["GET","HEAD"],"domain":null},"manager.motivos-priorizacao.create":{"uri":"motivos-priorizacao\/create","methods":["GET","HEAD"],"domain":null},"manager.motivos-priorizacao.get":{"uri":"motivos-priorizacao\/get","methods":["GET","HEAD"],"domain":null},"manager.motivos-priorizacao.store":{"uri":"motivos-priorizacao\/create","methods":["POST"],"domain":null},"manager.motivos-priorizacao.show":{"uri":"motivos-priorizacao\/{motivopriorizacao}","methods":["GET","HEAD"],"domain":null},"manager.motivos-priorizacao.update":{"uri":"motivos-priorizacao\/{motivopriorizacao}","methods":["PUT"],"domain":null},"manager.motivos-priorizacao.delete":{"uri":"motivos-priorizacao\/{motivopriorizacao}","methods":["DELETE"],"domain":null},"manager.produtos.index":{"uri":"produtos","methods":["GET","HEAD"],"domain":null},"manager.produtos.get":{"uri":"produtos\/get","methods":["GET","HEAD"],"domain":null},"manager.produtos.create":{"uri":"produtos\/create","methods":["GET","HEAD"],"domain":null},"manager.produtos.store":{"uri":"produtos\/create","methods":["POST"],"domain":null},"manager.produtos.update":{"uri":"produtos\/{produto}","methods":["PUT"],"domain":null},"manager.produtos.show":{"uri":"produtos\/{produto}","methods":["GET","HEAD"],"domain":null},"manager.produtos.delete":{"uri":"produtos\/{produto}","methods":["DELETE"],"domain":null},"manager.nfs.index":{"uri":"nfs","methods":["GET","HEAD"],"domain":null},"manager.nfs.get":{"uri":"nfs\/get","methods":["GET","HEAD"],"domain":null},"manager.nfs.show":{"uri":"nfs\/{nf}","methods":["GET","HEAD"],"domain":null},"manager.checkin_expresso.create":{"uri":"checkin_expresso","methods":["GET","HEAD"],"domain":null},"manager.checkin_expresso.store":{"uri":"checkin_expresso","methods":["POST"],"domain":null},"manager.parametros.tempos-descarregamento.show":{"uri":"parametros\/tempos-descarregamento\/{unidade?}","methods":["GET","HEAD"],"domain":null},"manager.parametros.tempos-descarregamento.store":{"uri":"parametros\/tempos-descarregamento\/{unidade?}","methods":["PUT"],"domain":null},"manager.fator-conversao.show":{"uri":"fator-conversao","methods":["GET","HEAD"],"domain":null},"manager.fator-conversao.store":{"uri":"fator-conversao","methods":["PUT"],"domain":null},"manager.configuracoes.show":{"uri":"configuracoes","methods":["GET","HEAD"],"domain":null},"manager.produtos-composicao.get":{"uri":"produtos-composicao\/get","methods":["GET","HEAD"],"domain":null},"v1.usuarios.index":{"uri":"v1\/usuarios","methods":["GET","HEAD"],"domain":null},"v1.usuarios.store":{"uri":"v1\/usuarios","methods":["POST"],"domain":null},"v1.usuarios.edit":{"uri":"v1\/usuarios\/{usuario}\/edit","methods":["GET","HEAD"],"domain":null},"v1.usuarios.update":{"uri":"v1\/usuarios\/{usuario}","methods":["PUT","PATCH"],"domain":null},"v1.usuarios.destroy":{"uri":"v1\/usuarios\/{usuario}","methods":["DELETE"],"domain":null},"v1.usuarios.auth":{"uri":"v1\/usuarios\/auth","methods":["GET","HEAD"],"domain":null},"v1.agendamentos.ocorrencias.index":{"uri":"v1\/agendamentos\/{agendamento}\/ocorrencias","methods":["GET","HEAD"],"domain":null},"v1.agendamentos.ocorrencias.store":{"uri":"v1\/agendamentos\/{agendamento}\/ocorrencias","methods":["POST"],"domain":null},"v1.agendamentos.ocorrencias.edit":{"uri":"v1\/agendamentos\/{agendamento}\/ocorrencias\/{ocorrencia}\/edit","methods":["GET","HEAD"],"domain":null},"v1.agendamentos.ocorrencias.update":{"uri":"v1\/agendamentos\/{agendamento}\/ocorrencias\/{ocorrencia}","methods":["PUT","PATCH"],"domain":null}},
        baseUrl: 'https://atacadao.hodiebooking.com.br/',
        baseProtocol: 'https',
        baseDomain: 'atacadao.hodiebooking.com.br',
        basePort: false,
        defaultParameters: []
    };

    !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("route",[],t):"object"==typeof exports?exports.route=t():e.route=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.ziggy=n,this.route=this.ziggy.namedRoutes[this.name],void 0===this.name)throw new Error("Ziggy Error: You must provide a route name");if(void 0===this.route)throw new Error("Ziggy Error: route '"+this.name+"' is not found in the route list");this.absolute=void 0===r||r,this.domain=this.setDomain(),this.path=this.route.uri.replace(/^\//,"")}return n(e,[{key:"setDomain",value:function(){if(!this.absolute)return"/";if(!this.route.domain)return this.ziggy.baseUrl.replace(/\/?$/,"/");var e=(this.route.domain||this.ziggy.baseDomain).replace(/\/+$/,"");return this.ziggy.basePort&&e.replace(/\/+$/,"")===this.ziggy.baseDomain.replace(/\/+$/,"")&&(e=this.ziggy.baseDomain+":"+this.ziggy.basePort),this.ziggy.baseProtocol+"://"+e+"/"}},{key:"construct",value:function(){return this.domain+this.path}}]),e}();r.d(t,"default",function(){return c});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e){function t(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.name=e,u.absolute=n,u.ziggy=i||Ziggy,u.template=u.name?new o(e,n,u.ziggy).construct():"",u.urlParams=u.normalizeParams(r),u.queryParams=u.normalizeParams(r),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,String),a(t,[{key:"normalizeParams",value:function(e){return void 0===e?{}:((e="object"!==(void 0===e?"undefined":u(e))?[e]:e).hasOwnProperty("id")&&-1==this.template.indexOf("{id}")&&(e=[e.id]),this.numericParamIndices=Array.isArray(e),i({},e))}},{key:"with",value:function(e){return this.urlParams=this.normalizeParams(e),this}},{key:"withQuery",value:function(e){return i(this.queryParams,e),this}},{key:"hydrateUrl",value:function(){var e=this,t=this.urlParams,r=0,n=this.template.match(/{([^}]+)}/gi),o=!1;return n&&n.length!=Object.keys(t).length&&(o=!0),this.template.replace(/{([^}]+)}/gi,function(n,i){var u=n.replace(/\{|\}/gi,"").replace(/\?$/,""),a=e.numericParamIndices?r:u,s=e.ziggy.defaultParameters[u];if(s&&o&&(e.numericParamIndices?(t=Object.values(t)).splice(a,0,s):t[a]=s),r++,void 0!==t[a])return delete e.queryParams[a],t[a].id||encodeURIComponent(t[a]);if(-1===n.indexOf("?"))throw new Error("Ziggy Error: '"+u+"' key is required for route '"+e.name+"'");return""})}},{key:"matchUrl",value:function(){this.urlParams;var e=window.location.hostname+(window.location.port?":"+window.location.port:"")+window.location.pathname,t=this.template.replace(/(\{[^\}]*\})/gi,"[^/?]+").split("://")[1],r=e.replace(/\/?$/,"/");return new RegExp("^"+t+"/$").test(r)}},{key:"constructQuery",value:function(){if(0===Object.keys(this.queryParams).length)return"";var e="?";return Object.keys(this.queryParams).forEach(function(t,r){void 0!==this.queryParams[t]&&null!==this.queryParams[t]&&(e=0===r?e:e+"&",e+=t+"="+encodeURIComponent(this.queryParams[t]))}.bind(this)),e}},{key:"current",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Object.keys(this.ziggy.namedRoutes).filter(function(r){return-1!==e.ziggy.namedRoutes[r].methods.indexOf("GET")&&new t(r,void 0,void 0,e.ziggy).matchUrl()})[0];return r?new RegExp(r.replace("*",".*").replace(".","."),"i").test(n):n}},{key:"parse",value:function(){this.return=this.hydrateUrl()+this.constructQuery()}},{key:"url",value:function(){return this.parse(),this.return}},{key:"toString",value:function(){return this.url()}},{key:"valueOf",value:function(){return this.url()}}]),t}();function c(e,t,r,n){return new s(e,t,r,n)}}]).default});
</script>
<!-- jQuery 3 -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- FastClick -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/fastclick/lib/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/dist/js/adminlte.min.js"></script>
<!-- Sparkline -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
<!-- jvectormap  -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- SlimScroll -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<!-- ChartJS -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/chart.js/Chart.js"></script>
<!-- Moment.js -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/moment/min/moment-with-locales.min.js"></script>
<!-- bootstrap datepicker -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/bootstrap-datepicker/dist/locales/bootstrap-datepicker.pt-BR.min.js"></script>
<!-- bootstrap daterangepicker -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- bootstrap timepicker -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/plugins/timepicker/bootstrap-timepicker.min.js"></script>
<!-- bootstrap datetimepicker -->
<script src="https://atacadao.hodiebooking.com.br/vendor/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
<!-- Pace -->
<script src="https://atacadao.hodiebooking.com.br/vendor/adminlte2/bower_components/PACE/pace.min.js"></script>
<!-- Pnotify -->
<script src="https://atacadao.hodiebooking.com.br/vendor/pnotify/pnotify.custom.min.js"></script>

<!-- Vue -->
<script src="https://atacadao.hodiebooking.com.br/vendor/vue/vue.min.js"></script>

<script src="https://atacadao.hodiebooking.com.br/vendor/vue-tables/vue-tables-2.min.js"></script>

<!-- Máscaras -->
<script src="https://atacadao.hodiebooking.com.br/js/masks.js"></script>
<script src="https://atacadao.hodiebooking.com.br/js/inputfile.js"></script>
<script src="https://atacadao.hodiebooking.com.br/js/daterangepicker.js"></script>
<script src="https://atacadao.hodiebooking.com.br/js/datetimepicker.js"></script>
<script src="https://atacadao.hodiebooking.com.br/js/datepicker.js"></script>
<script src="https://atacadao.hodiebooking.com.br/js/switch.js"></script>
<script src="https://atacadao.hodiebooking.com.br/vendor/limitkeypress/jquery.limitkeypress.min.js"></script>



<!-- printThis -->
<script src="https://atacadao.hodiebooking.com.br/vendor/printThis/printThis.js"></script>

<script src="https://atacadao.hodiebooking.com.br/js/build/manifest.js"></script>
<script src="https://atacadao.hodiebooking.com.br/js/build/vendor.js"></script>
<script src="https://atacadao.hodiebooking.com.br/js/build/app.js"></script>

<script src="https://atacadao.hodiebooking.com.br/vendor/v-tooltip/v-tooltip.min.js"></script>

<script>

    var vuetablestext = {

        last:"Último",
        page:"Página",
        limit:"Registros",
        count:"Registros {from} ao {to} de {count}|{count} registros|Um registro",
        first:"Primeiro",
        filter:"Filtro:",
        loading:"Carregando...",
        columns:"Colunas",
        filterBy:"Filtrado por {column}",
        noResults:"Nenhum registro encontrado",
        defaultOption:"Selecionar [column]",
        filterPlaceholder:"Procurar filtro",

    };

    //Funções globais de Vue
    Vue.mixin({

        methods: {
            formatData: function (str) {
                return moment(str).format("DD/MM/YYYY");
            },
            formatDataHora: function (str) {
                return moment(str).format("DD/MM/YYYY HH:mm");
            },
            getValueByDotString: function(obj, props, value_on_undefined) {
                return getValueByDotString(obj, props, value_on_undefined);
            },
            getSubValueByDotString: function(obj, props) {
                let list="";
                $.each(obj, function(key, value) {
                    if (key>0)
                        list += ", ";
                    list += getValueByDotString(value, props);
                });
                return list;
            }
        }

    });

    Vue.use(VueTables.ServerTable, {texts:vuetablestext, skin: "table table-hover table-condensed",filterable:false, perPageValues: []});
    Vue.use(VueTables.ClientTable, {texts:vuetablestext, skin: "table table-hover table-condensed",filterable:false, perPageValues: []});
    Vue.use(VueTables.Event);
    Vue.use(VTooltip);

    $('#notifications').on('click', function() {

        $("#notifications .menu").empty();
        $("#notifications .menu").html('<div class="text-center"><i class="fas fa-sync fa-spin"></i></div>');
        $.ajax({
            type: "POST",
            url: "https://atacadao.hodiebooking.com.br/notificacoes",
            global: false,
            success: function(json) {
                $("#notifications .menu").empty();
                if(json.length > 0) {
                    $(json).each(function(i,o) {
                        var classe = o.nao_lida? 'unread' : '';
                        var html = "<li class='" + classe + "'>" +"  <a href='" + o.link + "'>" +"    " + o.msg  +"  </a>" + "</li>";
                        $("#notifications .menu").append(html);
                    });
                } else {
                    var html = "<li>" + "<span>Nenhuma notificação</span>" + "</li>";
                    $("#notifications .menu").append(html);
                }
            },// fim success
        }); //fim $.ajax(
    });

    function consultarNotificacoes() {

        $.ajax({
    		async : true,
    		type: "GET",
    		cache: false,
    		global: false,
            contentType: "application/json",
    		url: "https://atacadao.hodiebooking.com.br/notificacoes-qtd",
    		success: function(qtd) {
                $("#notificacao-qtd").text(qtd);
                if(qtd > 0){
                    $("#notificacao-qtd").show();
                } else {
                    $("#notificacao-qtd").hide();
                }
            },// fim success
            error: null,
        });//fim $.ajax(

    }

    function consultarCargasAguardandoAgendamento() {

        $.ajax({
            async : true,
            type: "GET",
    		cache: false,
    		global: false,
            contentType: "application/json",
    		url: "https://atacadao.hodiebooking.com.br/cargas-aguardando-agendamento-qtd",
    		success: function(qtd) {
                $("#cargas-aguardando-agendamento-qtd").text(qtd);
                if(qtd > 0){
                    $("#cargas-aguardando-agendamento-qtd").show();
                } else {
                    $("#cargas-aguardando-agendamento-qtd").hide();
                }
    		},// fim success
            error: null,
        }); //fim ajax

    }

    $(document).ready(function() {

        if(top != self){
            var mensagem = "<h1 class='text-center text-danger'> Alerta !</h1>"
            mensagem += "<p class='text-center'> Esta página não pode ser executada dentro de um frame !</p>"
            document.querySelector("body").innerHTML = mensagem
        }

    });

    $(document).on('click', "[id=linkNome]", function() {
        alerta('<div class="database_alert">Você esta conectado na base <spa class="database_label_destaque">atacadao</span>.</div> <div class="database_alert">Na base de produção este alerta não será exibido.</div>',true);
    });

    $(this).ready(function() {

        var db = 'atacadao';

        if( db != "atacadao_prod") {

            if($('body').hasClass('sidebar-collapse')){
                document.getElementById('dbName1').style.display = 'none';
                document.getElementById('dbName2').style.display = 'block';
            } else {
                document.getElementById('dbName1').style.display = 'block';
                document.getElementById('dbName2').style.display = 'none';
            }
        }


      $(".main-header .sidebar-toggle").click(function() {
        var open = 0;
        if( db != "atacadao_prod") {
            if($('body').hasClass('sidebar-collapse')){
                open = 1;
                document.getElementById('dbName1').style.display = 'block';
                document.getElementById('dbName2').style.display = 'none';
            }else{
                document.getElementById('dbName1').style.display = 'none';
                document.getElementById('dbName2').style.display = 'block';
            }
        }


        $.ajax({
            type: "POST",
            url: "https://atacadao.hodiebooking.com.br/perfil/atualizar-display-menu",
          global: false,
          data: {open: open}
        }); //fim $.ajax(

      })

        consultarNotificacoes();
        consultarCargasAguardandoAgendamento();
            });

</script>
    <script>
$.ajaxSetup({
    headers: {
        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
    },
    async: true,
    cache: false,
    statusCode: {
      403: function(xhr) {
          try {
            if ($.trim(xhr.responseJSON.message) != '') {
                alerta(xhr.responseJSON.message);
            } else {
                alerta('Acesso negado');
            }
          } catch (error) {
            alerta('Acesso negado');
          }

      },
      500: function(){
        alerta('Erro inesperado');
      }
    },
});
$(this).ready(function(){
	$(document).ajaxStart(function(){
		if($("#dimmer").length == 0){
			$("html").append('<div id="dimmer"></div>');
		}
		Pace.restart();
	});
	$(document).ajaxStop(function(){
		if($("#dimmer").length > 0){
			$("#dimmer").remove();
		}
	});

  $('.ajuda').tooltip({placement: 'bottom'});

});

var IGNOREBEFOREUNLOAD = 0;
$(window).bind('beforeunload', function(e){
  if(IGNOREBEFOREUNLOAD > 0){
    return "Deseja realmente sair desta página sem salvar os dados?";
  } else {
  	$("html").append('<div id="dimmer"></div>');
  }
});

function ativarBeforeUnload(){
  IGNOREBEFOREUNLOAD++;
}

function desativarBeforeUnload(force){
  if(typeof force == 'undefined'){
    force = false;
  }

  if(force){
    IGNOREBEFOREUNLOAD = 0;
  }

  IGNOREBEFOREUNLOAD--;
}
</script>

<script>

    moment.locale('pt-BR');
    $(this).ready(function() {

        mascaraDecimal();
        mascaraInteiro();

        $(document).on('blur', "[decimal]", function(){
            var decimal = $(this).attr('decimal');
            var valor = parseFloat($(this).val().replace(".", "").replace(",", "."));
            if ($(this).val() != ""){
              $(this).val(valor.toFixed(decimal).replace(".", ","));
            }
        });

        $('.timepicker').timepicker({
            'minuteStep': 1,
            'template': 'dropdown',
            'showMeridian': false,
            'defaultTime': "00:00",
        });

        datePicker();
        dateTimePicker();
        dateRangePicker();
        masks();

        $('time').each(function() {
            var $el = $(this);
            var date = $el.data("datetime");
            var format = $el.data("format") === undefined ? 'DD/MM/YYYY' : $el.data("format");
            $el.text(moment(date).format(format));
        });

        $('input[data-datetime-value]').each(function(){
            var $el = $(this);
            var date = $el.data("datetime-value");
            if(date != ''){
                var format = $el.data("format") === undefined ? 'DD/MM/YYYY' : $el.data("format");
                $el.val(moment(date).format(format));
            }
        });

    });

    function mascaraDecimal() {
        $("[decimal]").each(function(){
            var decimal = $(this).attr('decimal');
            var rexp = '^(?:[1-9](?:[\\d]{0,:decimal}(?:\\.[\\d]{:decimal})*|[\\d]+)|0)(?:,[\\d]{0,:decimal})?$';
            rexp = rexp.replace(/:decimal/g, decimal);
            rexp = new RegExp(rexp);
            $(this).limitkeypress({"rexp": rexp});
        });
    }

    function mascaraInteiro(obj, verificar_mascara_aplicada) {

        if(typeof verificar_mascara_aplicada == 'undefined'){
            verificar_mascara_aplicada = false;
        }

        attr_m = '_mascara_inteiro_aplicada';
        rexp = /^\d*$/;

        if(typeof obj != 'undefined' && obj !== null){
            if(!verificar_mascara_aplicada || obj.attr(attr_m) != 'true'){
                obj.limitkeypress({"rexp": rexp});
            }
            obj.attr(attr_m, 'true');
        } else {
            $("[inteiro], .inteiro").each(function(){
                if(!verificar_mascara_aplicada || $(this).attr(attr_m) != 'true'){
                    $(this).limitkeypress({"rexp": rexp});
                }
                $(this).attr(attr_m, 'true');
            });
        }

    }

    function destacarErrosFormulario(erros, objForm, moverTelaPrimeiroErro) {

        if(typeof moverTelaPrimeiroErro == 'undefined') moverTelaPrimeiroErro = false;
        if(jQuery.isEmptyObject(erros)) return false;

        for(var i in erros){
            input = objForm.find("[name='" + i + "']");
            form_group = input.parents('.form-group').first();
            form_group.addClass('has-error');

            if(form_group.hasClass('form-group-multiple')){
                input.addClass('erro');
            }else{
                form_group.addClass('erro');
            }

            input.addClass('erroFormTooltip').attr('title', erros[i][0]).tooltip('show');
        }

        setTimeout(function(){
            for(var i in erros){
                input = objForm.find("[name='" + i + "']");
                input.tooltip('hide');
            }
        }, 1500);

        if(moverTelaPrimeiroErro){
            moverTelaPara(objForm.find('.form-group.has-error').first(), 35);
        }
    }

    function limparErrosFormulario(objForm){
        objForm.find(".has-error").removeClass('has-error');
    	objForm.find(".erroFormTooltip").tooltip('destroy').removeClass('erro');
    }

    function momentClockElement(elemento, formato, intervalo){
        var time = moment().format(formato);
        if(typeof elemento[0] != 'undefined' && elemento[0].tagName == 'INPUT'){
            elemento.val(time);
        }else{
            elemento.html(time);
        }

        setTimeout(function(){
            momentClockElement(elemento, formato, intervalo);
        }, intervalo);
    }

    function getValueByDotString(obj, props, value_on_undefined) {
        if(!props) return obj;
        var pArr = props.split('.');
        var p = pArr.splice(0,1);
        if(obj == null || typeof obj == 'undefined'|| typeof obj[p] == 'undefined') return value_on_undefined;
        r = getValueByDotString(obj[p], pArr.join('.'), value_on_undefined);
        return r;
    }

    function nl2br(str, is_xhtml){
        is_xhtml = typeof is_xhtml === 'undefined' ? false : is_xhtml;
        var breakTag = (is_xhtml) ? '' : '<br>';
        return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1' + breakTag + '$2');
    }

    function moverTelaPara(elt, marginTop, objAnimate){
        if(typeof objAnimate == 'undefined') objAnimate = 'html, body';
        if(typeof marginTop == 'undefined') marginTop = 0;
    	$(objAnimate).animate({
    		scrollTop: $(elt).first().offset().top - marginTop,
    	}, 0);
    }

    function moverModalPara(elt, marginTop) {

        eltF = $(elt).get(0);
        if(typeof marginTop == 'undefined') marginTop = 0;
        eltF.scrollIntoView();
        id_modal = $(eltF).parents('.modal').first().attr('id');
        document.getElementById(id_modal).scrollTop -= marginTop;

    }
</script>
<script>
var vue_pedidos_itens_pedido = null;
var vue_pedidos_itens_item = null;

function enviarFormPedidosItens(){
  if(getAgruparPor() == 'pedido'){
    vt = 'vue-tables.pedidositenstable_pedido.filter::filtro';
  }else{
    vt = 'vue-tables.pedidositenstable_item.filter::filtro';
  }
  VueTables.Event.$emit(vt, getFiltrosSerializeModalPedidosItens());
}

function vueGetVal(obj){
  return JSON.stringify(obj);
}

function vueGetQtdAlocar(obj){
  var modal = $("#modal-pedidos-itens");
  var selected = modal.data('selected');

  if(selected !== undefined){
    if(selected[obj.id_pedido_item] !== undefined && selected[obj.id_pedido_item].qtd_alocar !== undefined){
      return selected[obj.id_pedido_item].qtd_alocar;
    }
  }

  return '';
}

function vueChangeVal(item){
  var modal = $("#modal-pedidos-itens");
  var selected = modal.data('selected');
  var input = modal.find('[name="qtd_alocar['+item.id_pedido_item+']"]:visible');

  selected = selected === undefined ? {} : selected;

  if(item.saldo < 0){
    input.val(0);
  }

  if(input.val() != '' && input.val() > 0){
    if(parseInt(input.val()) >= item.saldo){
      input.val(item.saldo);
    }

    Vue.set(item, 'qtd_alocar', input.val());
    selected[item.id_pedido_item] = item;
  } else {
    if(selected[item.id_pedido_item] !== undefined){
      delete selected[item.id_pedido_item];
    }
  }

  modal.data('selected', selected);
  bloquearItensPedidoModal();
  contarItensModal();
}

function vueAlocarPedido(itens){
  var modal = $("#modal-pedidos-itens");
  $(itens).each(function(i,o){
    valor = o.saldo < 0 ? 0 : o.saldo;

    input = modal.find('[name="qtd_alocar['+o.id_pedido_item+']"]:visible');
    if(!input.is(':disabled')){
      Vue.set(itens[i], 'qtd_alocar', valor);
      input.val(valor);
    }
  });
  atualizarItensDataModal(itens);
  contarItensModal();
  bloquearItensPedidoModal();
}

$(document).on('focus', "#modal-pedidos-itens [name^='qtd_alocar']:visible", function(){
  mascaraInteiro($(this), true);
});

/*VueTables.Event.$on('vue-tables.pedidositenstable_pedido.loaded', function(data){

});*/

$(document).on('click', '#modal-pedidos-itens [name=agrupar_por]', function(){
  var modal = $("#modal-pedidos-itens");
  if(getAgruparPor() == 'pedido'){
    modal.find('.agrupar_por_pedido').show();
    modal.find('.agrupar_por_item').hide();
    if(vue_pedidos_itens_pedido == null){
      vue_pedidos_itens_pedido = new Vue({
        el: '#modal-pedidos-itens .agrupar_por_pedido',
        methods: {
          getVal(obj){
            return vueGetVal(obj);
          },
          getQtdAlocar(obj){
            return vueGetQtdAlocar(obj);
          },
          changeVal(item){
            vueChangeVal(item);
          },
          alocarPedido(itens){
            vueAlocarPedido(itens);
          }
        },
        data: {
          options: {
            customFilters: ['filtro'],
            initFilters: {'filtro': getFiltrosSerializeModalPedidosItens()},
            headings: {'conteudo': ''},
            sortable: [],
            perPage: 1,
            orderBy: {ascending: false},
            skin: 'table table-condensed-small' //Não deve ter table-hover pois tem uma tabela dentro de outra
          },
          columns: ['conteudo'],
        },
      });
    }else{
      enviarFormPedidosItens();
    }
  }else{
    if(vue_pedidos_itens_item == null){
      vue_pedidos_itens_item = new Vue({
        el: '#modal-pedidos-itens .agrupar_por_item',
        methods: {
          getVal(obj){
            return vueGetVal(obj);
          },
          getQtdAlocar(obj){
            return vueGetQtdAlocar(obj);
          },
          changeVal(item){
            vueChangeVal(item);
          },
          alocarPedido(itens){
            vueAlocarPedido(itens);
          },
          getValRelation(item, campo){
            val = '';
            switch(campo){
              case 'produto_codalfa':
                val = item.produto.codalfa;
                break;
              case 'produto_nome':
                val = item.produto.nome;
                break;
              case 'nr_pedido':
                val = item.pedido.nr_pedido;
                break;
            }
            return val;
          }
        },
        data: {
          options: {
            customFilters: ['filtro'],
            initFilters: {'filtro': getFiltrosSerializeModalPedidosItens()},
            headings: {
              produto_codalfa: 'Código',
              produto_nome: 'Mercadoria',
              nr_pedido: 'Pedido',
              saldo: 'Saldo',
              qtd_alocar: 'Qtde. a alocar',
            },
            sortable: [],
            orderBy: {ascending: false},
            skin: 'table table-condensed-small',
          },
          columns: ['produto_codalfa', 'produto_nome', 'nr_pedido', 'saldo',  "qtd_alocar" ],
        },
      });
    }else{
      enviarFormPedidosItens();
    }
    modal.find('.agrupar_por_pedido').hide();
    modal.find('.agrupar_por_item').show();
  }
});

$(document).on('show.bs.modal', '#modal-pedidos-itens', function(){
  //$(this).data('selected', {}); Não usar aqui, pois em cada tela pode ser diferente
  $('#modal-pedidos-itens [name=agrupar_por]:checked').click();
  contarItensModal();
});

$(document).on('click', '.enviarFormPedidosItens', function(){
  enviarFormPedidosItens();
});

function atualizarItensDataModal(itens){
  var modal = $("#modal-pedidos-itens");
  var selected = modal.data('selected');
  selected = selected === undefined ? {} : selected;

  $(itens).each(function(i,o){
    if(o.qtd_alocar != '' && o.qtd_alocar > 0){
      selected[o.id_pedido_item] = o;
    } else {
      if(selected[o.id_pedido_item] !== undefined){
        delete selected[o.id_pedido_item];
      }
    }
  });

  modal.data('selected', selected);
}

function contarItensModal(){
  var modal = $("#modal-pedidos-itens");
  var selected = modal.data('selected');
  selected = selected === undefined ? {} : selected;
  modal.find(".counter").text(Object.keys(selected).length);
}

function getAgruparPor(){
  return $("#modal-pedidos-itens [name=agrupar_por]:checked").val();
}

function bloquearItensPedidoModal(){
  var modal = $("#modal-pedidos-itens");
  var selected = modal.data('selected');
  var inputs = modal.find('[name^="qtd_alocar"]:visible');

  if(typeof selected == 'undefined' || jQuery.isEmptyObject(selected)){

    inputs.removeAttr('disabled').popover('destroy');
    modal.find('.filtro_somente_ent_iguais').hide();
    modal.find('[name=somente_ent_iguais]').prop('checked', false).attr('id_unidade', '').attr('id_fornecedor', '');
    modal.find('[name=id_unidade]').val('');
    modal.find('[name=id_fornecedor]').val('');
  }else{
    firstItem = selected[Object.keys(selected)[0]];

    modal.find('.filtro_somente_ent_iguais').show();
    modal.find('[name=somente_ent_iguais]').attr('id_unidade', firstItem.pedido.id_unidade).attr('id_fornecedor', firstItem.pedido.id_fornecedor);

    inputs.each(function(){
      it = JSON.parse($(this)[0].getAttribute('data-item'));

      bloquear = false;
      if(it.pedido.id_unidade != firstItem.pedido.id_unidade){
        bloquear = true;
      }
      if(it.pedido.id_fornecedor != firstItem.pedido.id_fornecedor){
        bloquear = true;
      }
      if(bloquear){
        $(this).attr('disabled','disabled');
        var content = "<div style='font-size: 13px;'>Não é possível alocar itens de unidades e fornecedores diferentes."
          + "<br>Unidade dos <strong>itens alocados: " + firstItem.pedido.unidade.nome + "</strong>"
          + "<br>Fornecedor dos <strong>itens alocados: " + firstItem.pedido.fornecedor.nome + "</strong>"
        + "</div>";
        $(this).popover({trigger: 'hover', 'placement': 'left', 'html': true, 'content': content});
      }else{
        $(this).popover('destroy');
        $(this).removeAttr('disabled').removeAttr('title');
      }
    });
  }
}

$(document).on('click', '[name=somente_ent_iguais]', function(){
  var modal = $("#modal-pedidos-itens");
  var id_unidade = $(this).attr('id_unidade');
  var id_fornecedor = $(this).attr('id_fornecedor');

  if($(this).prop('checked')){
    modal.find('[name=id_unidade]').val(id_unidade);
    modal.find('[name=id_fornecedor]').val(id_fornecedor);
  }else{
    modal.find('[name=id_unidade]').val('');
    modal.find('[name=id_fornecedor]').val('');
  }

  enviarFormPedidosItens();
});

function getFiltrosSerializeModalPedidosItens(){
  return $("#modal-pedidos-itens .form-busca").serialize();
}

</script>
<script>
var vue_modal_transportadoras = new Vue({
  el: '#modal-transportadoras',
  methods: {
    getVal(obj){
      return JSON.stringify(obj);
    },
    enviarForm(){
      $("#modal-transportadoras").find('[type=radio]').prop('checked', false);
      VueTables.Event.$emit('vue-tables.entidadestable_transportadoras_modal-transportadoras.filter::filtro',
        $("#modal-transportadoras .form-busca").serialize());
    },
    getChk(obj){
      var checked = false;
      var selected = $("#modal-transportadoras").data('selected');
      selected = selected === undefined? new Array() : selected;
      $(selected).each(function(i, o){
        if(o.id_entidade == obj.id_entidade){
          checked = true;
        }
      });
      return checked;
    },
  },
  data: {
    options: {
      customFilters: ['filtro'],
      headings: {select: ''},
      sortable: ['nome', 'cnpj_completo'],
    },
    columns: ['select', 'nome', 'cnpj_completo'],
    exibir: false,
  }
});

$(document).on('change', '#modal-transportadoras .select', function(){
  obj = JSON.parse($(this).val());
  var selected = $("#modal-transportadoras").data('selected');
      selected = new Array();
  
  if($(this).prop('checked') == true){
    selected.push(obj);
  } else {
    $(selected).each(function(i, o){
      if(o.id_entidade == obj.id_entidade){
        selected.splice(i, 1);
      }
    });
  }
  $("#modal-transportadoras").data('selected', selected);
  $("#modal-transportadoras .counter").text($("#modal-transportadoras").data('selected').length);
});

$(document).on('show.bs.modal', '#modal-transportadoras', function(){
  vue_modal_transportadoras.exibir = true;
  $(this).data('selected', new Array());
  $(this).find('.counter').text(0);
  //vue_transportadoras.$refs.entidadestable_transportadoras.getData();
});

</script>

<script>
function confirmar(msg, f_sim, f_nao){
  $('#modal-confirm .msg').text(msg);
  $('#modal-confirm .sim').unbind('click').click(function(){
		$('#modal-confirm').unbind('hidden.bs.modal').on('hidden.bs.modal', function(){
	    f_sim();
		});
    $('#modal-confirm').modal('hide');
  });
  $('#modal-confirm .nao').unbind('click').click(function(){
		$('#modal-confirm').unbind('hidden.bs.modal').on('hidden.bs.modal', function(){
	    if(typeof f_nao !== 'undefined'){
	      f_nao();
	    }
		});
    $('#modal-confirm').modal('hide');
  });
	$('#modal-confirm').unbind('hidden.bs.modal').on('hidden.bs.modal', function(){
		$('#modal-confirm .nao').click();
	});
  $('#modal-confirm').modal('show');
}
</script>
<script>
function alerta(msg, html){
  if(typeof html == 'undefined'){
    html = false;
  }
  
  if(html){
    $('#modal-alert .msg').html(msg);
  }else{
    $('#modal-alert .msg').text(msg);
  }
  
  $('#modal-alert').modal('show');
  $('#modal-alert .ok').click(function(){
    $('#modal-alert').modal('hide');
  });
}
</script>


    <script src="https://atacadao.hodiebooking.com.br/vendor/bootstrap-tour/bootstrap-tour.min.js"></script>
    <link rel="stylesheet" href="https://atacadao.hodiebooking.com.br/vendor/bootstrap-tour/bootstrap-tour.min.css">

    <script>
        var f_editando = false;
        $(document).on('click', '.btn_editar_carga', function() {
            if($(this).attr('onHide') == 'true') {
                $(this).attr('onHide', 'false').css('display', 'none');
            }

            f_editando = true;
            editandoExibindoCarga();
        });

        $(document).on('click', '.cancelar_edicao', function() {
            f_editando = false;
            editandoExibindoCarga();
        });

        $(document).on('click', '#modal-transportadoras .selecionar', function() {
            var selected = $("#modal-transportadoras").data('selected');

            if(typeof selected[0] == 'undefined') {
                alerta('Selecione uma transportadora');
                return false;
            }

            html = selected[0].nome;
            $("#cargasForm #transportadora").html(html);
            $("#cargasForm #id_transportadora").val(selected[0].id_entidade);
            $("#modal-transportadoras").modal('hide');
        });

        $(document).on('click', '.remover_transp', function() {
            $("#cargasForm #transportadora").html("");
            $("#cargasForm #id_transportadora").val("");
        });

        var tableData = [{"id_pedido_item":84668407,"created_at":null,"updated_at":null,"id_pedido":9237305,"sequencia":6,"id_produto":1000067289,"entregue":1,"dthr_entrega":"2024-06-13 00:00:00","qtd_pedida":16320,"total_recebido":0,"carga_palet":1,"autonomia_dias":"0.00","partic_item":"5.93","saldo":2668,"valitem":"0.00","flag_calcular_saldo":0,"dthr_calculo_saldo":"2024-07-30 15:40:12","tipo_embalagem":"1","embalagem":"1","deleted_at":null,"id_unidade":157,"flag_gerou_conta_corrente":1,"qtd_alocar":2668,"peso_bruto_embalagem":"6083.04000","peso_liquido_embalagem":"5122.56000","qtd_pallets_embalagem":"15.69410","sigla":"CXA","pedido":{"id_pedido":9237305,"carga_especie_id":1,"id_especie_carga":1,"created_at":"2024-06-13T02:28:13-03:00","updated_at":"2024-09-11T04:28:13-03:00","deleted_at":null,"nr_pedido":"274380","nr_pedido_orig":"2891","alterado_web":0,"id_unidade":157,"id_fornecedor":10434,"id_entidade_grupo":10069,"id_operacao_tipo":1,"dthr_elaboracao":"2024-06-12T00:00:00-03:00","comprador":58,"flag_prioritario":0,"entregue":1,"dthr_entrega":"2024-09-13T04:29:45-03:00","flag_cancelado":0,"flag_saldo":0,"dthr_cancelado":null,"motivo_exclusao":null,"ignorar_na_lista":0,"status_pedido":0,"unidade":{"id_entidade":157,"entidade_tipo_id":null,"codalfa":"183","nome":"JACAREI-CD","cnpj_completo":"75315333018318","cnpj_raiz":"75315333","dominio_email_corporativo":null,"ativo":1,"telefone":"(12) 3954 4680","email":null,"endereco":"PRESIDENTE DUTRA","contato":null,"ramal":null,"cep":null,"bairro":"PARQUE MEIA LUA","id_municipio":3547,"info_gerais":"<table align=\"center\" border=\"0\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:100%\">\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p><strong>ATEN&Ccedil;&Atilde;O!!! CADA VE&Iacute;CULO DEVE APRESENTAR&nbsp;&nbsp;APENAS 1 PROTOCOLO<\/strong><\/p>\r\n\r\n\t\t\t<p><strong>Funcionamento:<\/strong><\/p>\r\n\t\t\t<\/td>\r\n\t\t\t<td><strong>Como Chegar:<\/strong><\/td>\r\n\t\t<\/tr>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p><strong>Hor&aacute;rio de recebimento de documentos fiscais:<\/strong><\/p>\r\n\r\n\t\t\t<p>- Cargas n&atilde;o paletizadas (Batidas) Bazar<\/p>\r\n\r\n\t\t\t<p>&nbsp; 05:00 &agrave;s 15:00&nbsp;<\/p>\r\n\r\n\t\t\t<p><strong>Hor&aacute;rio de recebimento de mercadorias:<\/strong><\/p>\r\n\r\n\t\t\t<p>- Cargas n&atilde;o paletizadas (Batidas) Bazar<\/p>\r\n\r\n\t\t\t<p>&nbsp; 06:00 &agrave;s 22:00<\/p>\r\n\r\n\t\t\t<p>- Cargas paletizadas<\/p>\r\n\r\n\t\t\t<p>&nbsp; 06:00 &agrave;s 22:00<\/p>\r\n\r\n\t\t\t<p><strong>Valores de Descarga:<\/strong><\/p>\r\n\r\n\t\t\t<p>R$ 17,00 - Mercadorias Paletizadas<\/p>\r\n\r\n\t\t\t<p>R$ 30,00 - Mercadorias n&atilde;o paletizadas - (Batidas)<\/p>\r\n\r\n\t\t\t<p>&nbsp;<\/p>\r\n\t\t\t<\/td>\r\n\t\t\t<td>\r\n\t\t\t<p><img alt=\"\" src=\"..\/qr\/creator\/php\/qrickit.php?d=http%253a%252f%252fmaps.google.com%252fmaps%253fq%253dhttps%253A%252F%252Fgoo.gl%252Fmaps%252F6N4s9q5NW3F76Vq9A&amp;t=p&amp;addtext=&amp;txtcolor=000000&amp;fgdcolor=000000&amp;bgdcolor=FFFFFF&amp;qrsize=150\" \/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href=\"https:\/\/goo.gl\/maps\/QyRUUqTak4avstsY9\" target=\"_blank\"><img alt=\"\" src=\"data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACvAQMAAACxXBw2AAAABlBMVEX\/\/\/8AAABVwtN+AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABHUlEQVRIx+2WOw6EMAxETZXSN4Kb7cLN4hulpIp3bD4r6J1IuxghoUdjZcbjED31+5UUlWmkQTPb9xyPs72MH5wZiBtg0ZqkDIW48qK1M0aDLDiTxljbYZeBJpUNdcTmOykj23uzZhD2GqD8BPPfKggnXSdVt5qgi1cDjLGm7bQxa9\/z7oC9QVPemtTy1niMRJN1xIkohKgQhOKxdVNpcqtZosy9cJLVPAhsEtgTjl11i3WPUzplCMQpI00ghU0aL+WQoQOG7UfP2HoNmUi8xwxsb9t7uSVbBN7DFJb3fdkE28oQH+xLJx3wcVmwYNd2GFcF9CLItXrMezQGtMuZT9vcDbsM+1aDIc4BDMTuQTgQs4YlOlysGYOf+sv6APk0b\/9rMZHMAAAAAElFTkSuQmCC\" style=\"height:175px; width:175px\" \/><\/a><\/p>\r\n\r\n\t\t\t<p>1&ordm; - Abra a c&acirc;mera de seu celular e posicione sobre o QR CODE.<\/p>\r\n\r\n\t\t\t<p>2&ordm; - Click sobre o link gerado e entre no aplicativo para iniciar a rota.<\/p>\r\n\r\n\t\t\t<p>3&ordm; - Dirija at&eacute; o destino.&nbsp;<\/p>\r\n\t\t\t<\/td>\r\n\t\t<\/tr>\r\n\t<\/tbody>\r\n<\/table>","flag_regional":0,"timezone":"-3","flag_unidade_sistema":1,"cnpj_formatado":"75 315 333\/0183-18","codigo_nome":"183 - JACAREI-CD"},"fornecedor":{"id_entidade":10434,"entidade_tipo_id":null,"codalfa":"70940994008196","nome":"PANDURATA ALIMENTOS LTDA","cnpj_completo":"70940994008196","cnpj_raiz":"70940994","dominio_email_corporativo":"ellecelogistica.com.br","ativo":1,"telefone":null,"email":null,"endereco":null,"contato":null,"ramal":null,"cep":null,"bairro":null,"id_municipio":3482,"info_gerais":null,"flag_regional":0,"timezone":null,"flag_unidade_sistema":0,"cnpj_formatado":"70 940 994\/0081-96","codigo_nome":"70940994008196 - PANDURATA ALIMENTOS LTDA"}},"produto":{"id_produto":1000067289,"created_at":"2022-12-07T01:20:31-03:00","updated_at":"2025-06-10T06:20:14-03:00","codalfa":"83165","nome":"BISC.BAUDUCCO CHOCO BISCUIT AMARGO 80G","id_produto_composicao":2,"lastro":"17.00000","altura":"10.00000","peso_bruto":"2280.00000","peso_liquido":"1920.00000","norma_palet":"0.00","abc":1,"prioridade":1,"fator_kg_pallets":null,"embalagens":[{"id_produtos_embalagem":223235,"id_produto":1000067289,"embalagem":1,"digito":93,"codigo_barra":"27891962056672","sigla":"CXA","multiplicador_1":1,"multiplicador_2":24,"created_at":"2022-12-07T01:21:38-03:00","updated_at":"2022-12-07T01:21:38-03:00"},{"id_produtos_embalagem":223236,"id_produto":1000067289,"embalagem":4,"digito":38,"codigo_barra":"00000083165438","sigla":"EMB","multiplicador_1":1,"multiplicador_2":6,"created_at":"2022-12-07T01:21:38-03:00","updated_at":"2022-12-07T01:21:38-03:00"},{"id_produtos_embalagem":223237,"id_produto":1000067289,"embalagem":9,"digito":81,"codigo_barra":"00000083165981","sigla":"UND","multiplicador_1":1,"multiplicador_2":1,"created_at":"2022-12-07T01:21:38-03:00","updated_at":"2022-12-07T01:21:38-03:00"},{"id_produtos_embalagem":249310,"id_produto":1000067289,"embalagem":5,"digito":87,"codigo_barra":"00000083165587","sigla":"EMB","multiplicador_1":1,"multiplicador_2":3,"created_at":"2024-03-22T11:23:10-03:00","updated_at":"2024-03-22T11:23:10-03:00"}]}},{"id_pedido_item":84668410,"created_at":null,"updated_at":null,"id_pedido":9237305,"sequencia":9,"id_produto":1000067818,"entregue":1,"dthr_entrega":"2024-06-13 00:00:00","qtd_pedida":1716,"total_recebido":0,"carga_palet":1,"autonomia_dias":"0.00","partic_item":"0.95","saldo":1356,"valitem":"0.00","flag_calcular_saldo":0,"dthr_calculo_saldo":"2024-07-23 16:50:16","tipo_embalagem":"1","embalagem":"1","deleted_at":null,"id_unidade":157,"flag_gerou_conta_corrente":1,"qtd_alocar":1356,"peso_bruto_embalagem":"4379.88000","peso_liquido_embalagem":"4379.88000","qtd_pallets_embalagem":"9.48250","sigla":"CXA","pedido":{"id_pedido":9237305,"carga_especie_id":1,"id_especie_carga":1,"created_at":"2024-06-13T02:28:13-03:00","updated_at":"2024-09-11T04:28:13-03:00","deleted_at":null,"nr_pedido":"274380","nr_pedido_orig":"2891","alterado_web":0,"id_unidade":157,"id_fornecedor":10434,"id_entidade_grupo":10069,"id_operacao_tipo":1,"dthr_elaboracao":"2024-06-12T00:00:00-03:00","comprador":58,"flag_prioritario":0,"entregue":1,"dthr_entrega":"2024-09-13T04:29:45-03:00","flag_cancelado":0,"flag_saldo":0,"dthr_cancelado":null,"motivo_exclusao":null,"ignorar_na_lista":0,"status_pedido":0,"unidade":{"id_entidade":157,"entidade_tipo_id":null,"codalfa":"183","nome":"JACAREI-CD","cnpj_completo":"75315333018318","cnpj_raiz":"75315333","dominio_email_corporativo":null,"ativo":1,"telefone":"(12) 3954 4680","email":null,"endereco":"PRESIDENTE DUTRA","contato":null,"ramal":null,"cep":null,"bairro":"PARQUE MEIA LUA","id_municipio":3547,"info_gerais":"<table align=\"center\" border=\"0\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:100%\">\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p><strong>ATEN&Ccedil;&Atilde;O!!! CADA VE&Iacute;CULO DEVE APRESENTAR&nbsp;&nbsp;APENAS 1 PROTOCOLO<\/strong><\/p>\r\n\r\n\t\t\t<p><strong>Funcionamento:<\/strong><\/p>\r\n\t\t\t<\/td>\r\n\t\t\t<td><strong>Como Chegar:<\/strong><\/td>\r\n\t\t<\/tr>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p><strong>Hor&aacute;rio de recebimento de documentos fiscais:<\/strong><\/p>\r\n\r\n\t\t\t<p>- Cargas n&atilde;o paletizadas (Batidas) Bazar<\/p>\r\n\r\n\t\t\t<p>&nbsp; 05:00 &agrave;s 15:00&nbsp;<\/p>\r\n\r\n\t\t\t<p><strong>Hor&aacute;rio de recebimento de mercadorias:<\/strong><\/p>\r\n\r\n\t\t\t<p>- Cargas n&atilde;o paletizadas (Batidas) Bazar<\/p>\r\n\r\n\t\t\t<p>&nbsp; 06:00 &agrave;s 22:00<\/p>\r\n\r\n\t\t\t<p>- Cargas paletizadas<\/p>\r\n\r\n\t\t\t<p>&nbsp; 06:00 &agrave;s 22:00<\/p>\r\n\r\n\t\t\t<p><strong>Valores de Descarga:<\/strong><\/p>\r\n\r\n\t\t\t<p>R$ 17,00 - Mercadorias Paletizadas<\/p>\r\n\r\n\t\t\t<p>R$ 30,00 - Mercadorias n&atilde;o paletizadas - (Batidas)<\/p>\r\n\r\n\t\t\t<p>&nbsp;<\/p>\r\n\t\t\t<\/td>\r\n\t\t\t<td>\r\n\t\t\t<p><img alt=\"\" src=\"..\/qr\/creator\/php\/qrickit.php?d=http%253a%252f%252fmaps.google.com%252fmaps%253fq%253dhttps%253A%252F%252Fgoo.gl%252Fmaps%252F6N4s9q5NW3F76Vq9A&amp;t=p&amp;addtext=&amp;txtcolor=000000&amp;fgdcolor=000000&amp;bgdcolor=FFFFFF&amp;qrsize=150\" \/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href=\"https:\/\/goo.gl\/maps\/QyRUUqTak4avstsY9\" target=\"_blank\"><img alt=\"\" src=\"data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACvAQMAAACxXBw2AAAABlBMVEX\/\/\/8AAABVwtN+AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABHUlEQVRIx+2WOw6EMAxETZXSN4Kb7cLN4hulpIp3bD4r6J1IuxghoUdjZcbjED31+5UUlWmkQTPb9xyPs72MH5wZiBtg0ZqkDIW48qK1M0aDLDiTxljbYZeBJpUNdcTmOykj23uzZhD2GqD8BPPfKggnXSdVt5qgi1cDjLGm7bQxa9\/z7oC9QVPemtTy1niMRJN1xIkohKgQhOKxdVNpcqtZosy9cJLVPAhsEtgTjl11i3WPUzplCMQpI00ghU0aL+WQoQOG7UfP2HoNmUi8xwxsb9t7uSVbBN7DFJb3fdkE28oQH+xLJx3wcVmwYNd2GFcF9CLItXrMezQGtMuZT9vcDbsM+1aDIc4BDMTuQTgQs4YlOlysGYOf+sv6APk0b\/9rMZHMAAAAAElFTkSuQmCC\" style=\"height:175px; width:175px\" \/><\/a><\/p>\r\n\r\n\t\t\t<p>1&ordm; - Abra a c&acirc;mera de seu celular e posicione sobre o QR CODE.<\/p>\r\n\r\n\t\t\t<p>2&ordm; - Click sobre o link gerado e entre no aplicativo para iniciar a rota.<\/p>\r\n\r\n\t\t\t<p>3&ordm; - Dirija at&eacute; o destino.&nbsp;<\/p>\r\n\t\t\t<\/td>\r\n\t\t<\/tr>\r\n\t<\/tbody>\r\n<\/table>","flag_regional":0,"timezone":"-3","flag_unidade_sistema":1,"cnpj_formatado":"75 315 333\/0183-18","codigo_nome":"183 - JACAREI-CD"},"fornecedor":{"id_entidade":10434,"entidade_tipo_id":null,"codalfa":"70940994008196","nome":"PANDURATA ALIMENTOS LTDA","cnpj_completo":"70940994008196","cnpj_raiz":"70940994","dominio_email_corporativo":"ellecelogistica.com.br","ativo":1,"telefone":null,"email":null,"endereco":null,"contato":null,"ramal":null,"cep":null,"bairro":null,"id_municipio":3482,"info_gerais":null,"flag_regional":0,"timezone":null,"flag_unidade_sistema":0,"cnpj_formatado":"70 940 994\/0081-96","codigo_nome":"70940994008196 - PANDURATA ALIMENTOS LTDA"}},"produto":{"id_produto":1000067818,"created_at":"2023-01-24T01:18:25-03:00","updated_at":"2025-06-10T06:20:14-03:00","codalfa":"83477","nome":"BISC.BAUDUCCO CHOCO BISCUIT TUBE 80G","id_produto_composicao":2,"lastro":"13.00000","altura":"11.00000","peso_bruto":"3230.00000","peso_liquido":"3230.00000","norma_palet":"0.00","abc":1,"prioridade":1,"fator_kg_pallets":null,"embalagens":[{"id_produtos_embalagem":224202,"id_produto":1000067818,"embalagem":1,"digito":63,"codigo_barra":"17891962069040","sigla":"CXA","multiplicador_1":1,"multiplicador_2":34,"created_at":"2023-01-24T01:19:20-03:00","updated_at":"2023-01-24T01:19:20-03:00"},{"id_produtos_embalagem":224203,"id_produto":1000067818,"embalagem":9,"digito":51,"codigo_barra":"07891962069043","sigla":"UND","multiplicador_1":1,"multiplicador_2":1,"created_at":"2023-01-24T01:19:20-03:00","updated_at":"2023-01-24T01:19:20-03:00"},{"id_produtos_embalagem":233310,"id_produto":1000067818,"embalagem":4,"digito":8,"codigo_barra":"00000083477408","sigla":"EMB","multiplicador_1":1,"multiplicador_2":17,"created_at":"2023-07-22T01:14:32-03:00","updated_at":"2023-07-22T01:14:32-03:00"},{"id_produtos_embalagem":249328,"id_produto":1000067818,"embalagem":5,"digito":57,"codigo_barra":"00000083477557","sigla":"EMB","multiplicador_1":1,"multiplicador_2":2,"created_at":"2024-03-22T11:23:10-03:00","updated_at":"2024-03-22T11:23:10-03:00"}]}}];
        var vmListaPedidosItens = new Vue({
            el: '#cargasForm',
            methods: {
                remover(obj) {
                    $(tableData).each(function(i, o) {
                        if(obj.id_pedido_item == o.id_pedido_item) {
                            vmListaPedidosItens.tableData.splice(i, 1);
                        }
                    });
                    atualizarDadosCarga();
                    destacarInputItensErros();
                },
                getValRelation(item, campo) {
                    val = '';
                    switch(campo) {
                        case 'produto_codalfa':
                            val = item.produto.codalfa;
                        break;
                        case 'produto_nome':
                            val = item.produto.nome;
                        break;
                        case 'nr_pedido':
                            val  = item.pedido.nr_pedido;
                        break;
                        case 'qtd_pallets_embalagem' :
                            val = parseFloat(parseFloat(item.qtd_pallets_embalagem).toFixed(3)).toLocaleString("PT-BR");
                        break;
                    }
                    return val;
                },
                changeVal(item) {
                    var input = $('#cargasForm [name="qtd_alocada['+item.id_pedido_item+']"]:visible');

                    if(item.saldo < 0) {
                        input.val(0);
                    }

                    if(input.val() != '' && input.val() > 0) {
                        if(parseInt(input.val()) >= item.saldo) {
                            input.val(item.saldo);
                        }
                    }

                    $(vmListaPedidosItens.tableData).each(function(i,o) {
                        if(o.id_pedido_item == item.id_pedido_item) {
                            vmListaPedidosItens.tableData[i].qtd_alocar = input.val();
                            return false;
                        }
                    });

                    atualizarDadosCarga();
                },
            },
            data: {
                columns: ['produto_codalfa', 'produto_nome', 'nr_pedido', 'sigla', 'saldo', 'qtd_alocar', 'qtd_pallets_embalagem', 'acoes'],

                tableData: tableData,
                options: {
                    //columnsDropdown: true,
                    //footerHeadings: true,
                    columnsClasses: {'saldo':'f_editando'},
                    headings: {
                        produto_codalfa: 'Código',
                        produto_nome: 'Mercadoria',
                        nota: 'NF',
                        nr_pedido: 'Pedido',
                        total_recebido: 'Total recebido',
                        saldo: 'Saldo',
                        qtd_alocar: 'Qtde. alocada',
                        sigla: 'Embalagem',
                        qtd_pallets_embalagem: 'Qtd. Paletes',
                        acoes: ''
                    },
                    sortable: [],
                    skin: 'table table-hover table-condensed-small',
                    perPage: 20
                },
            }
        });

        $(document).on('click', '#modal-pedidos-itens .selecionar', function() {
            var modal = $("#modal-pedidos-itens");
            var selected = modal.data('selected');

            arrChaves = {};
            $(tableData).each(function(i, o) {
                if(selected[o.id_pedido_item] === undefined) {
                    vmListaPedidosItens.tableData.splice(i, 1);
                } else {
                    arrChaves[o.id_pedido_item] = i;
                }
            });

            if(selected !== undefined) {
                $.each(selected, function(i,o) {
                    if (arrChaves[o.id_pedido_item] == undefined) {
                        tableData.push(o);
                    } else {
                        vmListaPedidosItens.tableData[arrChaves[o.id_pedido_item]] = o;
                    }
                })
            }

            atualizarDadosCarga();
            modal.modal('hide');
        });

        $(document).on('show.bs.modal', '#modal-pedidos-itens', function() {
            var modal = $("#modal-pedidos-itens");
            modal.removeData('selected');

            if (vmListaPedidosItens.tableData.length > 0) {
                selected = {};
                $(vmListaPedidosItens.tableData).each(function(i, o) {
                    selected[o.id_pedido_item] = o;
                });
                modal.data('selected', selected);
            }
        });

        $(document).on('focus', "#cargasForm [name^='qtd_alocada']", function() {
            mascaraInteiro($(this), true);
        });

        VueTables.Event.$on(['vue-tables.pedidositenstable_pedido.loaded', 'vue-tables.pedidositenstable_item.loaded'], function(data) {
            bloquearItensPedidoModal();
        });

        function atualizarDadosCarga() {
            pedidosObj = {};
            unidadeObj = {};
            fornecedorObj = {};
            totalizadores = getTotalizadores();

            $(vmListaPedidosItens.tableData).each(function() {
                item = $(this)[0];

                if(jQuery.isEmptyObject(unidadeObj)) {
                    unidadeObj = item.pedido.unidade;
                }
                if(jQuery.isEmptyObject(fornecedorObj)) {
                    fornecedorObj = item.pedido.fornecedor;
                }
            });

            $(".totalizadores .toneladas_liquido").html(totalizadores.toneladas_liquido.toLocaleString("PT-BR") + 'T');
            $(".totalizadores .toneladas_bruto").html(totalizadores.toneladas_bruto.toLocaleString("PT-BR") + 'T');
            $(".totalizadores .pedidos").html(totalizadores.pedidos);
            $(".totalizadores .itens").html(totalizadores.itens);
            $(".totalizadores .pallets").html(totalizadores.pallets.toLocaleString("PT-BR"));

            $("#cargasForm .unidade").html(jQuery.isEmptyObject(unidadeObj) ? "" : unidadeObj.codigo_nome);
            $("#cargasForm [name=id_unidade]").val(jQuery.isEmptyObject(unidadeObj) ? "" : unidadeObj.id_entidade);

            $("#cargasForm .fornecedor").html(jQuery.isEmptyObject(fornecedorObj) ? "" : fornecedorObj.nome);
            $("#cargasForm [name=id_fornecedor]").val(jQuery.isEmptyObject(fornecedorObj) ? "" : fornecedorObj.id_entidade);

            if(vmListaPedidosItens.tableData.length > 0 && $("#cargasForm [name=id_especie_carga]").val() == '') {
                $("#cargasForm [name=id_especie_carga]").val(vmListaPedidosItens.tableData[0]['pedido']['id_especie_carga']);
            }


            if(vmListaPedidosItens.tableData.length > 0 && $("#cargasForm [name=carga_especie_id]").val() == '') {
                $("#cargasForm [name=carga_especie_id]").val(vmListaPedidosItens.tableData[0]['pedido']['carga_especie_id']);
            }

            editandoExibindoCarga();
        }

        function enableSerializeForm(queryId, isRemove) {
            if(isRemove == true) {
                $(queryId + ' :disabled').attr('remove', 'yes');
                $(queryId + ' [remove=yes]').removeAttr('disabled');
            } else {
                $(queryId + ' [remove=yes]').attr('disabled', true);
                $(queryId + ' :disabled').removeAttr('remove');
            }
        };

        function getTotalizadores() {
            var r = {
                'toneladas_liquido' :0,
                'toneladas_bruto'   :0,
                'pedidos'           :0,
                'itens'             :vmListaPedidosItens.tableData.length,
                'pallets'           :0,
            };

            $(vmListaPedidosItens.tableData).each(function(i) {
                item = $(this)[0];

                pedidosObj[item.pedido.id_pedido] = item.pedido.id_pedido;

                multiplicador = getMultiplicadores(item.produto.embalagens, item.embalagem); // embalagem do pedido
                divisor = getMultiplicadores(item.produto.embalagens, 1); //maior embalagem

                multiplicador = multiplicador ? multiplicador : 1;
                divisor = divisor ? divisor : 1;

                qtd_alocar = parseInt(item.qtd_alocar);
                if(isNaN(qtd_alocar)) {
                    qtd_alocar = 0;
                }

                peso_item = qtd_alocar * parseFloat(item.produto.peso_liquido) * multiplicador / divisor;

                r.toneladas_liquido +=  peso_item;
                r.toneladas_bruto +=  qtd_alocar * parseFloat(item.produto.peso_bruto) * multiplicador / divisor;

                // Se o item do pedido não usar medidas padrao para paletizacao, sera calculado um valor aproximado
                if ((parseFloat(item.produto.lastro) == 1.0) && (parseFloat(item.produto.altura) == 1.0)) {
                    fator_kg = 800;
                    if (item.produto.fator_kg_pallets != null) {
                        fator_kg = item.produto.fator_kg_pallets;
                    }
                    qtd_pallets = (peso_item / 1000) / fator_kg; // divide o peso em gramas por 700 para ter uma quantidade aproximada de pallets
                    r.pallets += qtd_pallets;
                }
                else {
                    if ((item.produto.lastro > 0) && (item.produto.altura > 0)) {
                        qtd_pallets = qtd_alocar / (parseFloat(item.produto.lastro) * parseFloat(item.produto.altura));
                    }
                    else {
                        qtd_pallets = 0;
                    }
                    r.pallets += qtd_pallets;
                }

                vmListaPedidosItens.tableData[i].qtd_pallets_embalagem = qtd_pallets;
            });

            r.pedidos = Object.keys(pedidosObj).length;
            r.toneladas_liquido = r.toneladas_liquido/1000000; //O valor do banco está em gramas
            r.toneladas_bruto = r.toneladas_bruto/1000000; //O valor do banco está em gramas

            return r;
        }

        function getMultiplicadores(embalagens, modelo) {
            var res = null;
            embalagens.forEach(function(o){
               if (o.embalagem == modelo){
                   res = o.multiplicador_1 * o.multiplicador_2;
               }
            });
            return res;
        }

        var objItensErros = {};
        $(document).on('click', '#salvar', function() {


            limparErrosFormulario($("#cargasForm"));
            totalizadores = getTotalizadores();

            enableSerializeForm("#cargasForm", true);
            var dataForm = $("#cargasForm").serialize() + '&pallets=' + totalizadores.pallets + getItensSerialize();
            enableSerializeForm("#cargasForm", false);
  
            $.ajax({
                                    url: "https://atacadao.hodiebooking.com.br/cargas/7596557",
                    method: "PUT",
                                data: dataForm,
                    success: function(json) {
                       
                        ignoreBeforeUnload = true;
                        $(document).on('hide.bs.modal', '#modal-alert', function() {
                            
                        });
                                                    alerta('Registro atualizado com sucesso');
                        
                        
                    },
                    statusCode:{
                        422: function(json) {
                            var resp = json.responseJSON;
                            destacarErrosFormulario(resp.errors, $("#cargasForm"));

                            if (typeof resp.errors != 'undefined' && typeof resp.errors.qtd_alocada != 'undefined') {
                                $(".erro_itens .msg").html(resp.errors.qtd_alocada[0]);
                                $(".erro_itens").show();
                            } else {
                                $(".erro_itens").hide();
                            }
                            objItensErros = resp.errors_itens;

                            $(vmListaPedidosItens.tableData).each(function(i,o) {
                                vmListaPedidosItens.tableData[i].saldo = resp.itens[o.id_pedido_item].saldo;
                            });

                            destacarInputItensErros(true);
                        }
                    }
            });
        });

        function limparErros(element) {
            $(element).find(".has-error").removeClass('has-error');
            $(element).find(".erro").tooltip('destroy').removeClass('erro');
        }

        function getItensSerialize() {
            var aux = "";
            $(tableData).each(function(i, o) {
                aux += "&qtd_alocada[" + o.id_pedido_item + "]=" + o.qtd_alocar;
            });
            return aux;
        }

        function destacarInputItensErros(goPageFirstInputError) {
            if(typeof goPageFirstInputError == 'undefined') {
                goPageFirstInputError = false;
            }

            //Deixar dentro desta função (com valor 0 mesmo), pois assim é executado depois de ter carregado a tabela no caso de vue-tables.pagination
            setTimeout(function() {
                $("[name^='qtd_alocada']").parents('.form-group').removeClass('has-error').removeClass('erro');
                indiceError = "";
                if(typeof objItensErros != 'undefined') {
                    firstItem = objItensErros[Object.keys(objItensErros)[0]];
                }

                $(vmListaPedidosItens.tableData).each(function(i,o) {
                    if(typeof objItensErros[o.id_pedido_item] != 'undefined') {
                        if(goPageFirstInputError) {
                            if(o.id_pedido_item == firstItem) {
                                var perPage = vmListaPedidosItens.$refs.itens_alocados_table.limit;
                                if(vmListaPedidosItens.tableData.length > perPage) {
                                var page = Math.ceil((i+1)/perPage);
                                vmListaPedidosItens.$refs.itens_alocados_table.setPage(page);
                                }
                                destacarInputItensErros(false);
                            }
                        }else {
                            input = $("[name='qtd_alocada["+o.id_pedido_item+"]']:visible");
                            input.parents('.form-group').first().addClass('has-error').addClass('error');
                        }
                    }
                });
            }, 0);
        }

        VueTables.Event.$on('vue-tables.itens_alocados_table.pagination', function(data) {
            destacarInputItensErros(false);
            editandoExibindoCarga();
        });

        function editandoExibindoCarga() {
            setTimeout(function() {
                if (f_editando) {
                    $(".f_editando").show();
                    $(".f_editando.btn-panel").css('display', 'inline-block');
                    $(".f_exibindo").hide();
                } else {
                    $(".f_editando").hide();
                    $(".f_exibindo").show();
                }
            }, 0);
        }

        $(document).ready(function() {
            editandoExibindoCarga();
            atualizarDadosCarga();

            div_botoes = $("#cargasForm > .btn-container");
            botoes = div_botoes.children();


            if(!botoes.is(':visible')) {
                div_botoes.hide();
            }
        })

                    $(document).on('click', '.cancelar_carga', function() {
                $("#modal-cancelamento").modal('show');
            });

            $(document).on('click', '#modal-cancelamento .confirmar', function() {
                var modal = $("#modal-cancelamento");
                limparErros(modal);

                $.ajax({
                    url: "https://atacadao.hodiebooking.com.br/cargas/cancelar/7596557",
                    method: "PUT",
                    data: modal.find('form').serialize(),
                    success: function(json) {
                        $(document).on('hide.bs.modal', '#modal-alert', function() {
                            window.location.href = json.id_carga;
                        });
                        alerta('Registro atualizado com sucesso');
                    },
                    statusCode:{
                        422: function(json) {
                            var resp = json.responseJSON;
                            for(var i in resp.errors) {
                                modal.find("[name='" + i + "']").parents('.form-group')
                                .first()
                                .addClass('has-error')
                                            .addClass('erro')
                                            .attr('title', resp.errors[i][0])
                                            .tooltip('show');
                            }

                            setTimeout(function() {
                                for(var i in resp.errors) {
                                    modal.find("[name='" + i + "']").parents('.form-group').first().tooltip('hide');
                                }
                            }, 1500);
                        }
                    }
                });
            });
        
        var formINI;
        var itensINI;
        $(document).ready(function() {
            formINI = $("#cargasForm").serialize();
            itensINI = tableData;
        });

        var ignoreBeforeUnload = false;
        $(window).unbind('beforeunload').bind('beforeunload', function() {
            if(!ignoreBeforeUnload) {
                show_confirm = false;

                if($("#cargasForm").serialize() != formINI) {
                    show_confirm = true;
                }

                if(!show_confirm) {
                    if(tableData != itensINI) {
                        show_confirm = true;
                    }
                }

                if(show_confirm) {
                    return true;
                }
            }
        });

        $(document).on('click', '[name=agendar_depois]', function() {
            if($(this).prop('checked')) {
                $(".box-dados-agendamento").hide();
                $(".permitir_transp_agendar").show();
                $(".obg_transp").addClass('hidden');
            } else {
                $(".box-dados-agendamento").show();
                $(".permitir_transp_agendar").hide();
                $(".obg_transp").removeClass('hidden');
            }
        });

        $(document).ready(function() {
            $(".fa-asterisk").attr('title', 'Campo obrigatório');
        });

        /*********************************************/
        /** TOUR **/

        
        var tour_nao_exibir_novamente = true;
        var tour = new Tour({
            name: "criacao_carga",
            backdrop: true,
            keyboard: true,
            orphan: true,
            delay: {show: 300},
            template: function() {
                var template = '<div class="popover tour">' +
                    '<div class="arrow"></div>' +
                    '<h3 class="popover-title"></h3>' +
                    '<div class="popover-content"></div>' +
                    '<div class="popover-navigation">' +
                    '<button class="btn btn-default" data-role="prev" title="Anterior"><i class="fas fa-arrow-left"></i></button>' +
                    '<button class="btn btn-default" data-role="next" title="Próximo"><i class="fas fa-arrow-right"></i></button>';

                    if (tour_nao_exibir_novamente) {
                        template += '<button class="btn btn-default" data-role="end">Encerrar</button>';
                    } else {
                        template += '<div class="btn-group btn-group-end" role="group">' +
                        '<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">' +
                            'Encerrar ' +
                            '<span class="caret"></span>' +
                        '</button>' +
                        '<ul class="dropdown-menu">' +
                            '<li><a href="#" data-role="end">Fechar</a></li>' +
                            '<li><a href="#" class="nao_exibir_novamente">Não exibir novamente</a></li>' +
                        '</ul>' +
                        '</div>';
                    }

                    template += '' +
                    '</div>' +
                '</div>';
                return template;
            },
            steps: [
            {
                element: '#openTour',
                title: 'Tutorial de montagem de carga',
                content: 'Olá, Isabelly gonçalves de araujo.<br>        Bem vindo a tela de montagem de carga.        Este breve tutorial lhe mostrará como montar uma carga e solicitar um agendamento.<br><br>        Utilize os botões <i class="fas fa-arrow-left"></i> e <i class="fas fa-arrow-right"></i> abaixo para navegar entre as instruções        (também é possível utilizar o teclado).',
                animation: false,
                placement: 'bottom',
                backdropPadding: 5,
            },
            {
                element: '.dados_carga',
                title: 'Dados da carga',
                content: 'Aqui estão os dados principais para a montagem da carga.        Totalizadores, Unidade e Fornecedor são preenchidos automaticamente ao selecionar os itens da carga        (veremos a inclusão de itens em uma instrução posterior).<br>        Os campos obrigatórios estão marcados com <i class="fas fa-xs fa-asterisk text-danger"></i>.',
                animation: false,
                placement: 'left',
                backdropPadding: {'top': 15},
            },
            {
                element: '#leadtime-minimo-container',
                title: 'Disponibilidade de entrega',
                content: 'Para fazer a montagem da carga é necessário inserir uma data mínima de disponibilidade de entrega pelo fornecedor.',
                animation: false,
                backdropPadding: {'top': 15},
            },
            {
                element: '.dados_agendamento',
                title: 'Dados do agendamento',
                content: 'Para solicitar o agendamento é necessário preencher estes dados.        Dessa maneira, ao salvar o registro, um protocolo é criado (aguardando aprovação) e relacionado com a carga.        Outros dados do agendamento como motorista e ajudantes podem ser informados posteriormente.',
                placement: 'left',
                animation: false,
                backdropPadding: {'top': 15},
            },
            {
                element: '.label_agendar_depois',
                title: 'Dados do agendamento',
                content: 'Caso queira salvar somente a carga, sem solicitar o agendamento, deixe esta opção selecionada.',
                placement: 'bottom',
                animation: false,
                backdropPadding: {'top': 40, 'left': 15, 'right': 15, 'bottom': 5},
            },
            {
                element: '#data-desejada-container',
                title: 'Data desejada de agendamento',
                content: 'Esta data está sujeita a aprovação da Central de Agendamento',
                placement: 'left',
                animation: false,
                backdropPadding: {'top': 15},
            },
            {
                element: '#itens',
                title: 'Itens da carga',
                content: 'Aqui estão os itens da carga.        Se você clicou em solicitar agendamento diretamente da tela de pedidos, os itens serão carregados automaticamente com a quantidade total alocada.',
                placement: 'top',
                animation: false,
                backdropPadding: {left: 5},
            },
            {
                element: '.btn_modal_pedidos_itens',
                title: 'Itens da carga',
                content: 'É possível incluir itens que sejam da mesma unidade e fornecedor.',
                placement: 'bottom',
                animation: false,
                backdropPadding: {top: 3, right: 3, bottom: 20, left: 3}
            },
            {
                element: '#salvar',
                title: 'Salvar carga',
                content: 'Após preencher todos os dados basta clicar no botão para salvar o registro.',
                placement: 'bottom',
                animation: false,
                backdropPadding: {top: 3, right: 3, bottom: 20, left: 3}
            },
            {
                element: '#openTour',
                title: 'Visualizar tutorial',
                content: 'Ao acessar esta tela, o tutorial é aberto automaticamente.        Para desabilitar esta funcionalidade clique abaixo em Encerrar > Não exibir novamente.<br><br>        Sempre que quiser exibir o tutorial novamente basta clicar no ícone acima.',
                placement: 'bottom',
                animation: false,
                backdropPadding: 5,
            },
            ],
            onShown: function(tour) {
                console.info('onShown', this.element);
                $("#dimmer").hide();

                if(tour._options.steps.length == (tour.getCurrentStep() + 1)) {
                    if(tour_nao_exibir_novamente) {
                        tour.end();
                    }
                }
            },
            onShow: function(tour) {
                console.info('onShow', this.element);
                $('body').attr('disabled');
            },
            onHidden: function(tour) {
                if ($("#dimmer").length > 0) {
                    $("#dimmer").show();
                } else {
                    $("html").append('<div id="dimmer"></div>');
                }
            },
            onEnd: function(tour) {
                console.info('onEnd', this.element);
                $('body').attr('disabled', false);
                $("#dimmer").hide();
            },
        });
        tour.init();

        $(document).on('keyup', function(e) {
            if(tour._inited && tour._options.keyboard == false) {
                switch (e.which) {
                    case 39:
                        if(tour._options.steps.length == (tour.getCurrentStep() + 1)) {
                            if($(".popover.tour .btn-group-end").hasClass('open') == false) {
                                $(".popover.tour .btn-group-end .dropdown-toggle").click();
                            } else {
                                tour.end();
                            }
                        } else {
                            tour.next();
                        }
                    break;
                    case 37:
                        if(tour.getCurrentStep() != 0) {
                            tour.prev();
                        }
                    break;
                }
            }
        });


        $(document).on('click', '.tour-step-backdrop', function() {
            tour.end();
        });

        $(document).on('click', '.tour .nao_exibir_novamente', function() {
            tour.end();
            tour._options.keyboard = true;
            tour._initKeyboardNavigation(true);
            tour_nao_exibir_novamente = true;

            $.ajax({
                type: "POST",
                url: "https://atacadao.hodiebooking.com.br/perfil/atualizar-tour",
                global: false,
                data: {id_tour: tour._options.name}
            });
        });

        $(document).on('click', '#openTour', function() {
            tour.goTo(0);
            tour.restart();
        });

                    tour.end();
        
        /*********************************************/

    </script>
<script>
//programacao modal insere numero nf
var contaNf = 1;
  $('#btnAddNF').on('click', function() {
    $('#btnSim').hide();
    $('#avisoNf').hide();
    $('#btnNao').hide();
    $('#regSucesso').hide();
    $('#incNotaPergunta').hide();
    $('#incNota').show();
    $('#frmNotas').show();
    $('#btnAdd_1').show();
    $('#idCarga').val('0');
    $('#modalInsereNF').modal('show');
  });

 function btnSimNFC(){
    $('#btnSim').hide();
    $('#avisoNf').hide();
    $('#btnNao').hide();
    $('#frmNotas').show();
 }
 
  $('#btnNao').on('click', function() {
    $('#modalInsereNF').modal('hide');
  });
  
  $('#btnCancelarNota').on('click', function() {
    $('#modalInsereNF').modal('hide');
  });

  $('#btnSalvarNota').on('click', function() {
        var i = 1;
        while(i <= contaNf){
            var tamanho = $('.imputNF_'+i).val().length;

            if(tamanho < 44 && tamanho != 0){
                $('#chaveErro_'+i).html("O tamanho da chave digitada é menor que 44 caracteres.");
                $('#chaveErro_'+i).show();
                return false;
            }
            i++;
        }
        var urlPost = route("manager.agendamento.inserenfagendamento"); 
        var notas = $('input[name="nota[]"]').map(function(){ 
                    return this.value; 
                }).get();
        var request = $.ajax({
        url: urlPost,
        type: "POST",
        data: {
            idAgendamento : 7081577,
            'notas[]' :notas
        },
        dataType: "html"
        });

        request.done(function(retorno) {
            var html= "";
            var obj = JSON.parse(retorno);
            $.each(obj, function (index, value) {
                html += '<div id="dv_'+ obj[index].id_agendamento +'" neme = "dv_'+ obj[index].id_agendamento +'" class="row">';
                html += '<div class="col-sm-1">'+ (index +1) +'</div>';
                html += '<div class="col-sm-2 text-left">'+ parseInt(obj[index].n_nota) +'</div>';
                html += '<div class="col-sm-8">'+ obj[index].num_nota +'</div>';
                html += '<div class="col-sm-1">';
                                html += '<i idAgendamentoNF="'+ obj[index].id_agendamento_nf +'" value="'+ obj[index].num_nota +'" id="btnExcluir_'+ obj[index].id_agendamento_nf +'" onclick="excluirNota('+ obj[index].id_agendamento_nf +','+ parseInt(obj[index].n_nota) +')" neme="btnExcluir_'+ obj[index].id_agendamento_nf +'" class="btnExcluiNota fas fa-trash-alt orange btn"></i>';
                                html += '</div>';
                html += '</div>';
             });
            $('.notasExibe').html(html);
            $('#modalInsereNF').modal('hide');
            $('#existeNota').modal('hide');
            $('#inputsAdd').html(''); 
            $('.imputNF_1').val('');
            contaNf=1;
            
        });

        request.fail(function(jqXHR, textStatus) {
        alert( "Request failed: " + textStatus );
        })
  });
  
  var indiceBtnAdd = 1;
  var htmlInputADD = '<div class="col-md-10 form-group nota">';
      htmlInputADD += '<div class="input-group">';
      htmlInputADD += '<span class="input-group-addon" id="basic-addon">##</span>';
      htmlInputADD += '<input  onkeyup ="validaChave(xx)" name="nota[]" id="nota[]" class="form-control imputChaveNF imputNF_zz" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" type = "number" maxlength = "44" />';
      htmlInputADD += '</div>';
      htmlInputADD +='<spam id="chaveErro_ee" name="chaveErro_ff" class="text-danger" style="display: none"></spam>';
      htmlInputADD += '</div>';
      htmlInputADD += '</div>';

      $('#btnAdd_'+indiceBtnAdd).on('click', function() {
        adicionaImput();
        });
    function adicionaImput(){
        contaNf ++;
            var html = htmlInputADD.replace("##", contaNf);
            var html = html.replace("xx", contaNf);
            var html = html.replace("zz", contaNf);
            var html = html.replace("ee", contaNf);
            var html = html.replace("ff", contaNf);
            $('#inputsAdd').append(html); 
    }
  
  var nfExibe = 1;

  $('#btnModalSim').on('click', function() {
    return false;
  });

  var idNF = "000000";
  var numNota = "000000";

  $('#btnModalConfirma').on('click', function() { 
        var urlGet = route('manager.caragendamentogas.deletenfagendamento',idNF);
        var request = $.ajax({
        url: urlGet,
        type: "GET",
        data:{idNF: idNF, idAgendamento :  7081577,}
        });

        request.done(function(retorno) {
            html = "";
            var obj = JSON.parse(retorno);
            $.each(obj, function (index, value) {
                html += '<div id="dv_'+ obj[index].id_agendamento +'" neme = "dv_'+ obj[index].id_agendamento +'" class="row">';
                html += '<div class="col-sm-1">'+ (index +1) +'</div>';
                html += '<div class="col-sm-2 text-left">'+ parseInt(obj[index].n_nota) +'</div>';
                html += '<div class="col-sm-8">'+ obj[index].num_nota +'</div>';
                html += '<div class="col-sm-1">';
                                html += '<i idAgendamentoNF="'+ obj[index].id_agendamento_nf +'" value="'+ obj[index].num_nota +'" id="btnExcluir_'+ obj[index].id_agendamento_nf +'" onclick="excluirNota('+ obj[index].id_agendamento_nf +','+ parseInt(obj[index].n_nota) +')" neme="btnExcluir_'+ obj[index].id_agendamento_nf +'" class="btnExcluiNota fas fa-trash-alt orange btn"></i>';
                                html += '</div>';
                html += '</div>';
             });
        $('.notasExibe').html(html);
        $('#exibeNFAgendamento').html(html);
        $('#modalConfirma').modal('hide');
        alerta("Nota Excluida !");

        });

        request.fail(function(jqXHR, textStatus) {
        alert( "Request failed: " + textStatus );
        })

        $('#modalConfirma').modal('hide');
  });

  $('.btnExcluiNota').on('click', function() {
    
    $('#tituloModalConfirma').html('Exclusão de Nota Fiscal')
    $('#msgModalConfirma').html('Deseja realmente excluir a nota <b>'+  $(this).attr('num_nota') +'<b> ?')
    $('#modalConfirma').modal('show');
    idNF = $(this).attr('value');
  });

  function excluirNota(id,numNota){
        $('#tituloModalConfirma').html('Exclusão de Nota Fiscal')
        $('#msgModalConfirma').html('Deseja realmente excluir a nota: <b>'+numNota+'</b>?')
        $('#modalConfirma').modal('show');
        idNF = id;
        numNota = numNota;
  }

  function validaChave(i){
        var chave = $('.imputNF_' + i).val().length;
        if (chave >43){
            validaChaveGet(i);
            if(i == contaNf){
                adicionaImput();
            }
        }else{
            $("#chaveErro_"+i).hide();
        }
  }

  function validaChaveGet(i){
        strValida = $('.imputNF_'+i).val();
        strCnpj = strValida.substring(6,20);
        if (validarCNPJ(strCnpj) == false){         
            $("#chaveErro_"+i).html("O CNPJ "+strCnpj+" não é valido !");
            $("#chaveErro_"+i).show();
            $('#btnSalvarNota').hide();
            return false;
        }else{
            $('#btnSalvarNota').show();
            $("#chaveErro_"+i).hide();
        }

        var urlGet =  route("manager.agendamentos.validachave", [ 'idAgendamento', 'chave' ]);
        var request = $.ajax({
        url: urlGet,
        type: "GET",
        data:{idAgendamento :7081577,chave: strValida}

        });

        request.done(function(retorno) {
            if(retorno == "False"){
                $("#chaveErro_"+i).html("Esta nota já existe neste agendamento !");
                $("#chaveErro_"+i).show();
                $('#btnSalvarNota').hide();
                return false;
            }else{
            $('#btnSalvarNota').show();
            $("#chaveErro_"+i).hide();
            
        }

        });

        request.fail(function(jqXHR, textStatus) {
        alert( "Request failed: " + textStatus );
        })

  }

  function validarCNPJ(cnpj) {
 
        cnpj = cnpj.replace(/[^\d]+/g,'');

        if(cnpj == '') return false;
        
        if (cnpj.length != 14)
            return false;

        // Elimina CNPJs invalidos conhecidos
        if (cnpj == "00000000000000" || 
            cnpj == "11111111111111" || 
            cnpj == "22222222222222" || 
            cnpj == "33333333333333" || 
            cnpj == "44444444444444" || 
            cnpj == "55555555555555" || 
            cnpj == "66666666666666" || 
            cnpj == "77777777777777" || 
            cnpj == "88888888888888" || 
            cnpj == "99999999999999")
            return false;
            
        // Valida DVs
        tamanho = cnpj.length - 2
        numeros = cnpj.substring(0,tamanho);
        digitos = cnpj.substring(tamanho);
        soma = 0;
        pos = tamanho - 7;
        for (i = tamanho; i >= 1; i--) {
        soma += numeros.charAt(tamanho - i) * pos--;
        if (pos < 2)
                pos = 9;
        }
        resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
        if (resultado != digitos.charAt(0))
            return false;
            
        tamanho = tamanho + 1;
        numeros = cnpj.substring(0,tamanho);
        soma = 0;
        pos = tamanho - 7;
        for (i = tamanho; i >= 1; i--) {
        soma += numeros.charAt(tamanho - i) * pos--;
        if (pos < 2)
                pos = 9;
        }
        resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
        if (resultado != digitos.charAt(1))
            return false;
                
        return true;
        
        }

</script>

    <style>
                    .f_editando { display: none; }
        
        input[name^='qtd_alocar['], input[name^='qtd_alocada['] { width: 80px; }
    </style>

</body>
</html>
